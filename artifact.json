{
  "metadata": {
    "name": "@itentialopensource/kentik-rest-example",
    "version": "0.0.7",
    "description": "Project for example workflows involving Kentik, NetBox, ServiceNow, AWS, MS Teams, and IAG.",
    "license": "Apache-2.0",
    "repository": {
      "type": "gitlab",
      "hostname": "gitlab.com",
      "path": "itentialopensource/pre-built-automations"
    },
    "keywords": [
      "Itential",
      "IAP"
    ],
    "author": "Itential",
    "IAPDependencies": {
      "@itential/app-operations_manager": "",
      "@itential/app-json_forms": "",
      "@itential/app-workflow_engine": "",
      "@itentialopensource/adapter-netbox_v33": "",
      "@itentialopensource/adapter-servicenow": "",
      "@itentialopensource/adapter-msteams": ""
    },
    "gitlabId": 51770895
  },
  "manifest": {
    "bundleName": "Kentik - REST - Example",
    "fingerprint": "6543f4eb45972b007f6d4b7c",
    "createdEpoch": "1698952427655",
    "artifacts": [
      {
        "id": "AWS Blocked Traffic - Reset - Kentik - Example",
        "name": "AWS Blocked Traffic - Reset - Kentik - Example",
        "type": "automation",
        "location": "/bundles/automations/AWS Blocked Traffic - Reset - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Onboarding - Reset - Kentik - Example",
        "name": "Device Onboarding - Reset - Kentik - Example",
        "type": "automation",
        "location": "/bundles/automations/Device Onboarding - Reset - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "AWS Blocked Traffic - Kentik - Example",
        "name": "AWS Blocked Traffic - Kentik - Example",
        "type": "automation",
        "location": "/bundles/automations/AWS Blocked Traffic - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Onboarding - Kentik - Example",
        "name": "Device Onboarding - Kentik - Example",
        "type": "automation",
        "location": "/bundles/automations/Device Onboarding - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "AWS Blocked Traffic Event - Kentik - Example",
        "name": "AWS Blocked Traffic Event - Kentik - Example",
        "type": "workflow",
        "location": "/bundles/workflows/AWS Blocked Traffic Event - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "AWS Blocked Traffic Event - Reset - Kentik - Example",
        "name": "AWS Blocked Traffic Event - Reset - Kentik - Example",
        "type": "workflow",
        "location": "/bundles/workflows/AWS Blocked Traffic Event - Reset - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Onboarding - Kentik - Example",
        "name": "Device Onboarding - Kentik - Example",
        "type": "workflow",
        "location": "/bundles/workflows/Device Onboarding - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Create Incident - ServiceNow",
        "name": "Create Incident - ServiceNow",
        "type": "workflow",
        "location": "/bundles/workflows/Create Incident - ServiceNow.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Onboarding - Reset - Kentik - Example",
        "name": "Device Onboarding - Reset - Kentik - Example",
        "type": "workflow",
        "location": "/bundles/workflows/Device Onboarding - Reset - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Update Change Request - ServiceNow",
        "name": "Update Change Request - ServiceNow",
        "type": "workflow",
        "location": "/bundles/workflows/Update Change Request - ServiceNow.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Create Change Request - ServiceNow",
        "name": "Create Change Request - ServiceNow",
        "type": "workflow",
        "location": "/bundles/workflows/Create Change Request - ServiceNow.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Send Notification - Microsoft - Teams - REST",
        "name": "Send Notification - Microsoft - Teams - REST",
        "type": "workflow",
        "location": "/bundles/workflows/Send Notification - Microsoft - Teams - REST.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Onboarding Flow Test - Kentik - Example",
        "name": "Device Onboarding Flow Test - Kentik - Example",
        "type": "workflow",
        "location": "/bundles/workflows/Device Onboarding Flow Test - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Push Configuration to Device - IAG",
        "name": "Push Configuration to Device - IAG",
        "type": "workflow",
        "location": "/bundles/workflows/Push Configuration to Device - IAG.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Command Template Runner",
        "name": "Command Template Runner",
        "type": "workflow",
        "location": "/bundles/workflows/Command Template Runner.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Create Device - Kentik - REST",
        "name": "Create Device - Kentik - REST",
        "type": "workflow",
        "location": "/bundles/workflows/Create Device - Kentik - REST.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Flow Test - Kentik - REST",
        "name": "Device Flow Test - Kentik - REST",
        "type": "workflow",
        "location": "/bundles/workflows/Device Flow Test - Kentik - REST.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Onboarding - Kentik - Example",
        "name": "Device Onboarding - Kentik - Example",
        "type": "json-forms",
        "location": "/bundles/json_forms/Device Onboarding - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Device Onboarding Reset - Kentik - Example",
        "name": "Device Onboarding Reset - Kentik - Example",
        "type": "json-forms",
        "location": "/bundles/json_forms/Device Onboarding Reset - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "AWS Blocked Traffic Event - Reset - Kentik Example",
        "name": "AWS Blocked Traffic Event - Reset - Kentik Example",
        "type": "json-forms",
        "location": "/bundles/json_forms/AWS Blocked Traffic Event - Reset - Kentik Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "IOS-XE Flow Config - Kentik - Example",
        "name": "IOS-XE Flow Config - Kentik - Example",
        "type": "template",
        "location": "/bundles/templates/IOS-XE Flow Config - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "IOS-XE Flow Config - Reset - Kentik - Example",
        "name": "IOS-XE Flow Config - Reset - Kentik - Example",
        "type": "template",
        "location": "/bundles/templates/IOS-XE Flow Config - Reset - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "Ping - IOS - Kentik - Example",
        "name": "Ping - IOS - Kentik - Example",
        "type": "mop-template",
        "location": "/bundles/mop_templates/Ping - IOS - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "654104d02c883d00f315fdd1",
        "name": "Build IAG Device Configuration Push Data",
        "type": "transformation",
        "location": "/bundles/transformations/Build IAG Device Configuration Push Data.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "6544148b2c883d00f315fdd3",
        "name": "Find Kentik Device by Name",
        "type": "transformation",
        "location": "/bundles/transformations/Find Kentik Device by Name.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "653fc12f2c883d00f315fdcf",
        "name": "Process Kentik Device Onboarding Form Inputs",
        "type": "transformation",
        "location": "/bundles/transformations/Process Kentik Device Onboarding Form Inputs.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "653fe9a52c883d00f315fdd0",
        "name": "Process Kentik Device Onboarding Reset Form Inputs",
        "type": "transformation",
        "location": "/bundles/transformations/Process Kentik Device Onboarding Reset Form Inputs.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "654144da2c883d00f315fdd2",
        "name": "Process AWS Blocked Traffic Event - Reset Inputs",
        "type": "transformation",
        "location": "/bundles/transformations/Process AWS Blocked Traffic Event - Reset Inputs.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "650b873164654800d3248064",
        "name": "IOS-XE Config - Kentik - Example",
        "type": "transformation",
        "location": "/bundles/transformations/IOS-XE Config - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "64f3937db3e59e00cc64337a",
        "name": "Create Device - Kentik",
        "type": "transformation",
        "location": "/bundles/transformations/Create Device - Kentik.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "621a5d367393d9019373d137",
        "name": "Build CR Update Payload - ServiceNow",
        "type": "transformation",
        "location": "/bundles/transformations/Build CR Update Payload - ServiceNow.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "650b4bab64654800d3248062",
        "name": "Device Onboarding - Kentik - Example",
        "type": "transformation",
        "location": "/bundles/transformations/Device Onboarding - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "650b63ef64654800d3248063",
        "name": "Device ID to Netbox Asset Tag - Kentik - Example",
        "type": "transformation",
        "location": "/bundles/transformations/Device ID to Netbox Asset Tag - Kentik - Example.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "649dd079d8cf7a00af456027",
        "name": "AWS Blocked Traffic Event",
        "type": "transformation",
        "location": "/bundles/transformations/AWS Blocked Traffic Event.json",
        "properties": {
          "entryPoint": false
        }
      },
      {
        "id": "649e1ee2d8cf7a00af456028",
        "name": "AWS Blocked Traffic Event - Allowed List Error",
        "type": "transformation",
        "location": "/bundles/transformations/AWS Blocked Traffic Event - Allowed List Error.json",
        "properties": {
          "entryPoint": false
        }
      }
    ]
  },
  "bundles": [
    {
      "type": "automation",
      "data": {
        "_id": "649e080b05ac3b00d8ac0971",
        "name": "AWS Blocked Traffic - Reset - Kentik - Example",
        "description": "",
        "componentName": "AWS Blocked Traffic Event - Reset - Kentik - Example",
        "componentType": "workflows",
        "gbac": {
          "write": [],
          "read": []
        },
        "created": "2023-06-29T22:39:07.066Z",
        "createdBy": "mike.elrom@itential.com",
        "lastUpdated": "2023-10-31T21:09:02.238Z",
        "lastUpdatedBy": "chris.calloway@itential.com",
        "triggers": [
          {
            "_id": "6526d02310fa0e0141ace8f8",
            "created": "2023-06-29T22:39:42.897Z",
            "createdBy": "mike.elrom@itential.com",
            "lastUpdated": "2023-10-31T21:09:02.325Z",
            "lastUpdatedBy": "chris.calloway@itential.com",
            "name": "Start AWS Blocked Traffic Event - Reset with Form",
            "type": "manual",
            "enabled": true,
            "actionType": "automations",
            "actionId": "649e080b05ac3b00d8ac0971",
            "description": "",
            "formId": "AWS Blocked Traffic Event - Reset - Kentik Example",
            "formData": {},
            "formSchemaHash": "1970a8be1311297a9c0be0c46236721ffe0fa33e3d269e71c054f0bc46e589e7",
            "migrationVersion": 2
          }
        ]
      }
    },
    {
      "type": "automation",
      "data": {
        "_id": "650df35e431c58012fc340a0",
        "name": "Device Onboarding - Reset - Kentik - Example",
        "description": "",
        "componentName": "Device Onboarding - Reset - Kentik - Example",
        "componentType": "workflows",
        "gbac": {
          "write": [],
          "read": []
        },
        "created": "2023-09-22T20:04:46.817Z",
        "createdBy": "mike.elrom@itential.com",
        "lastUpdated": "2023-10-31T21:09:02.238Z",
        "lastUpdatedBy": "chris.calloway@itential.com",
        "triggers": [
          {
            "_id": "6526d02310fa0e0141ace8f7",
            "created": "2023-09-22T20:04:46.875Z",
            "createdBy": "mike.elrom@itential.com",
            "lastUpdated": "2023-10-31T21:09:02.326Z",
            "lastUpdatedBy": "chris.calloway@itential.com",
            "name": "Start Device Onboarding Reset with Form",
            "type": "manual",
            "enabled": true,
            "actionType": "automations",
            "actionId": "650df35e431c58012fc340a0",
            "description": "",
            "formId": "Device Onboarding Reset - Kentik - Example",
            "formData": {},
            "formSchemaHash": "d0249ce0de5f821af341be857ade8c4eecf850d8fc995d5f1e364a63e8d090ce",
            "migrationVersion": 2
          }
        ]
      }
    },
    {
      "type": "automation",
      "data": {
        "_id": "648a86b1ef88ae00e584c18f",
        "name": "AWS Blocked Traffic - Kentik - Example",
        "description": "",
        "componentName": "AWS Blocked Traffic Event - Kentik - Example",
        "componentType": "workflows",
        "gbac": {
          "write": [],
          "read": []
        },
        "created": "2023-06-15T03:34:09.957Z",
        "createdBy": "mike.elrom@itential.com",
        "lastUpdated": "2023-10-31T21:09:02.238Z",
        "lastUpdatedBy": "chris.calloway@itential.com",
        "triggers": [
          {
            "_id": "6526d02310fa0e0141ace8f6",
            "created": "2023-06-15T03:34:36.914Z",
            "createdBy": "mike.elrom@itential.com",
            "lastUpdated": "2023-10-31T21:09:02.322Z",
            "lastUpdatedBy": "chris.calloway@itential.com",
            "name": "Rejected Traffic Trigger",
            "type": "endpoint",
            "enabled": true,
            "actionType": "automations",
            "actionId": "648a86b1ef88ae00e584c18f",
            "description": "",
            "verb": "POST",
            "routeName": "test-webhook",
            "schema": {
              "type": "object",
              "properties": {},
              "additionalProperties": true
            },
            "jst": null,
            "migrationVersion": 2
          }
        ]
      }
    },
    {
      "type": "automation",
      "data": {
        "_id": "650df331431c58012fc3409e",
        "name": "Device Onboarding - Kentik - Example",
        "description": "",
        "componentName": "Device Onboarding - Kentik - Example",
        "componentType": "workflows",
        "gbac": {
          "write": [],
          "read": []
        },
        "created": "2023-09-22T20:04:01.960Z",
        "createdBy": "mike.elrom@itential.com",
        "lastUpdated": "2023-10-31T21:09:02.238Z",
        "lastUpdatedBy": "chris.calloway@itential.com",
        "triggers": [
          {
            "_id": "6526d02310fa0e0141ace8f5",
            "created": "2023-09-22T20:04:36.734Z",
            "createdBy": "mike.elrom@itential.com",
            "lastUpdated": "2023-10-31T21:09:02.325Z",
            "lastUpdatedBy": "chris.calloway@itential.com",
            "name": "Start Device Onboarding - Kentik with Form",
            "type": "manual",
            "enabled": true,
            "actionType": "automations",
            "actionId": "650df331431c58012fc3409e",
            "description": "",
            "formId": "Device Onboarding - Kentik - Example",
            "formData": {},
            "formSchemaHash": "e6ff7ac654cae1c68e02a0ac2c5c7eb6fde4d03efc9ff86f766834897c2975d6",
            "migrationVersion": 2
          }
        ]
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "AWS Blocked Traffic Event - Kentik - Example",
        "tasks": {
          "1232": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Create Incident - ServiceNow",
            "description": "Create Incident - ServiceNow",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Create Incident - ServiceNow",
                "variables": {
                  "summary": {
                    "editable": true,
                    "task": "5847",
                    "value": "serviceNowSummary"
                  },
                  "comments": {
                    "editable": true,
                    "task": "572f",
                    "value": "serviceNowComments"
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "serviceNowAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": null
              }
            },
            "groups": [],
            "actor": "job",
            "x": -0.0416367552045944,
            "y": 0.9449101796407186,
            "nodeLocation": {
              "x": -2304,
              "y": 1836
            }
          },
          "1587": {
            "name": "stub",
            "canvasName": "stub",
            "summary": "Blocked Traffic Path",
            "description": "Blocked Traffic Path",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "automatic",
            "displayName": "Tools",
            "variables": {
              "incoming": {
                "type": "success",
                "delay": "",
                "response": ""
              },
              "outgoing": {
                "response": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -1116,
              "y": 1932
            }
          },
          "4257": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "AWS Blocked Traffic Event",
            "description": "Build AWS blocked traffic data",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "649dd079d8cf7a00af456027",
                "variableMap": {
                  "iapURL": "$var.job.iapUrl",
                  "serviceNowURL": "$var.job.serviceNowUrl",
                  "dimensions": "$var.job.Dimensions",
                  "links": "$var.job.Links",
                  "jobId": "$var.job._id",
                  "alarmPolicyName": "$var.job.AlarmPolicyName",
                  "serviceNowChangeSysId": "$var.d6d4.return_data",
                  "serviceNowIncidentSysId": "$var.9e2a.return_data"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "teamsMessageStart": null,
                "teamsMessageStartSuccess": null,
                "teamsMessageStartFailure": null,
                "serviceNowSummary": null,
                "serviceNowComments": null,
                "seviceNowChangeComments": null,
                "securityGroupFilter": null,
                "sourceIpCIDR": null,
                "sourceIP": null
              },
              "decorators": []
            },
            "groups": [],
            "x": 0.2613065326633166,
            "y": 0.9550128534704371,
            "task_name": "AWS Blocked Traffic Event",
            "retrySettings": null,
            "nodeLocation": {
              "x": -1680,
              "y": 1836
            }
          },
          "5847": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "AWS Blocked Traffic Event",
            "description": "Build AWS blocked traffic event data",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "649dd079d8cf7a00af456027",
                "variableMap": {
                  "iapURL": "$var.job.iapUrl",
                  "serviceNowURL": "$var.job.serviceNowUrl",
                  "dimensions": "$var.job.Dimensions",
                  "links": "$var.job.Links",
                  "jobId": "$var.job._id",
                  "alarmPolicyName": "$var.job.AlarmPolicyName",
                  "serviceNowChangeSysId": "pending",
                  "serviceNowIncidentSysId": "pending"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "teamsMessageStart": null,
                "teamsMessageStartSuccess": null,
                "teamsMessageStartFailure": null,
                "serviceNowSummary": null,
                "serviceNowComments": null,
                "seviceNowChangeComments": null,
                "securityGroupFilter": null,
                "sourceIpCIDR": null,
                "sourceIP": null
              },
              "decorators": []
            },
            "groups": [],
            "x": -1.2153625269203159,
            "y": 0.7840616966580977,
            "task_name": "AWS Blocked Traffic Event",
            "retrySettings": null,
            "nodeLocation": {
              "x": -4632,
              "y": 1728
            }
          },
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": -1.5987170349251603,
            "y": 0.7904191616766467,
            "nodeLocation": {
              "x": -5184,
              "y": 1728
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": 0.9763101220387652,
            "y": 1.255784061696658,
            "nodeLocation": {
              "x": -1116,
              "y": 1728
            }
          },
          "7c58": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Create Change Request",
            "description": "Create Change Request",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Create Change Request - ServiceNow",
                "variables": {
                  "title": {
                    "editable": true,
                    "task": "5847",
                    "value": "serviceNowSummary"
                  },
                  "summary": {
                    "editable": true,
                    "task": "5847",
                    "value": "serviceNowSummary"
                  },
                  "description": {
                    "editable": true,
                    "task": "5847",
                    "value": "serviceNowSummary"
                  },
                  "comments": {
                    "editable": true,
                    "task": "5847",
                    "value": "seviceNowChangeComments"
                  },
                  "assignmentGroup": {
                    "editable": true,
                    "task": "static",
                    "value": ""
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "serviceNowAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": null
              }
            },
            "groups": [],
            "actor": "job",
            "x": -0.8305814788226848,
            "y": 0.7866323907455013,
            "nodeLocation": {
              "x": -4008,
              "y": 1728
            }
          },
          "8c16": {
            "name": "describeSecurityGroups",
            "canvasName": "describeSecurityGroups",
            "summary": "Describe SG",
            "description": "Get Security Group to confirm the source ingress is missing",
            "location": "Adapter",
            "locationType": "Awsec2",
            "app": "Awsec2",
            "type": "automatic",
            "displayName": "Awsec2",
            "variables": {
              "incoming": {
                "filter": "$var.5847.securityGroupFilter",
                "groupId": "",
                "groupName": "",
                "dryRun": false,
                "nextToken": "",
                "maxResults": "",
                "adapter_id": "$var.job.awsEC2Adapter"
              },
              "outgoing": {
                "result": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": -0.19669777458722182,
            "y": 0.7748502994011977,
            "scheduled": false,
            "nodeLocation": {
              "x": -2916,
              "y": 1728
            }
          },
          "f484": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Send Notification MSTeams - Event",
            "description": "Send Teams Notification",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Send Notification - Microsoft - Teams - REST",
                "variables": {
                  "text": {
                    "editable": true,
                    "task": "572f",
                    "value": "teamsMessageStart"
                  },
                  "title": {
                    "editable": true,
                    "task": "572f",
                    "value": "serviceNowSummary"
                  },
                  "webhookKey": {
                    "task": "job",
                    "value": "allPolicyEventsWebhookUrl"
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "msTeamsAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": null
              }
            },
            "groups": [],
            "actor": "job",
            "x": -0.34099066762383345,
            "y": 0.7789203084832905,
            "nodeLocation": {
              "x": -3228,
              "y": 1728
            }
          },
          "d6d4": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Change Request sysid",
            "description": "Query Change Request sysid",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "createdCR.response.id",
                "obj": "$var.7c58.job_details"
              },
              "outgoing": {
                "return_data": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "x": -0.6848528356066045,
            "y": 0.7313624678663239,
            "scheduled": false,
            "nodeLocation": {
              "x": -3768,
              "y": 1620
            }
          },
          "fbe8": {
            "name": "authorizeSecurityGroupIngress",
            "canvasName": "authorizeSecurityGroupIngress",
            "summary": "Authorize Ingress on SG",
            "description": "Authorize Ingress on SG for Web Server",
            "location": "Adapter",
            "locationType": "Awsec2",
            "app": "Awsec2",
            "type": "automatic",
            "displayName": "Awsec2",
            "variables": {
              "incoming": {
                "cidrIp": "$var.5847.sourceIpCIDR",
                "fromPort": 80,
                "groupId": "$var.d861.return_data",
                "groupName": "",
                "ipPermissions": "",
                "ipProtocol": "tcp",
                "sourceSecurityGroupName": "",
                "sourceSecurityGroupOwnerId": "",
                "toPort": 80,
                "dryRun": false,
                "adapter_id": "$var.job.awsEC2Adapter"
              },
              "outgoing": {
                "result": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.12921751615218952,
            "y": 0.7712082262210797,
            "scheduled": false,
            "nodeLocation": {
              "x": -1992,
              "y": 1728
            }
          },
          "d861": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Security Group ID",
            "description": "Query Security Group ID",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "response.DescribeSecurityGroupsResponse.securityGroupInfo.item.groupId",
                "obj": "$var.8c16.result"
              },
              "outgoing": {
                "return_data": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "x": -0.10050251256281408,
            "y": 0.770059880239521,
            "scheduled": false,
            "nodeLocation": {
              "x": -2604,
              "y": 1728
            }
          },
          "c038": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Eval Src IP in SG",
            "description": "Run an evaluation to ensure the Source IP does not already exist in the Security Group",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "query": "response.DescribeSecurityGroupsResponse.securityGroupInfo.item.ipPermissions.item.ipRanges.item.cidrIp",
                        "operand_1": {
                          "variable": "result",
                          "task": "8c16"
                        },
                        "operator": "!contains",
                        "operand_2": {
                          "variable": "sourceIpCIDR",
                          "task": "5847"
                        },
                        "rightQuery": ""
                      },
                      {
                        "query": "response.DescribeSecurityGroupsResponse.securityGroupInfo.item.ipPermissions.item.ipRanges.item.cidrIp",
                        "operand_1": {
                          "variable": "result",
                          "task": "8c16"
                        },
                        "operator": "!=",
                        "operand_2": {
                          "variable": "sourceIpCIDR",
                          "task": "5847"
                        },
                        "rightQuery": ""
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": -0.04594400574300072,
            "y": 0.7640718562874251,
            "nodeLocation": {
              "x": -2304,
              "y": 1728
            }
          },
          "572f": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "AWS Blocked Traffic Event",
            "description": "Build AWS blocked traffic event data",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "649dd079d8cf7a00af456027",
                "variableMap": {
                  "iapURL": "$var.job.iapUrl",
                  "serviceNowURL": "$var.job.serviceNowUrl",
                  "dimensions": "$var.job.Dimensions",
                  "links": "$var.job.Links",
                  "jobId": "$var.job._id",
                  "alarmPolicyName": "$var.job.AlarmPolicyName",
                  "serviceNowChangeSysId": "$var.d6d4.return_data",
                  "serviceNowIncidentSysId": "pending"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "teamsMessageStart": null,
                "teamsMessageStartSuccess": null,
                "teamsMessageStartFailure": null,
                "serviceNowSummary": null,
                "serviceNowComments": null,
                "seviceNowChangeComments": null,
                "securityGroupFilter": null,
                "sourceIpCIDR": null,
                "sourceIP": null
              },
              "decorators": []
            },
            "groups": [],
            "x": -0.5326633165829145,
            "y": 0.7853470437017995,
            "task_name": "AWS Blocked Traffic Event",
            "retrySettings": null,
            "nodeLocation": {
              "x": -3540,
              "y": 1728
            }
          },
          "9e2a": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Incident sysid",
            "description": "Query incidentId from incident",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "createdIncident.response.id",
                "obj": "$var.1232.job_details"
              },
              "outgoing": {
                "return_data": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "x": 0.14213926776740848,
            "y": 0.9524421593830334,
            "scheduled": false,
            "nodeLocation": {
              "x": -1992,
              "y": 1836
            }
          },
          "7dc": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Send Notification MSTeams - Success",
            "description": "Send Teams Notification",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Send Notification - Microsoft - Teams - REST",
                "variables": {
                  "text": {
                    "editable": true,
                    "task": "572f",
                    "value": "teamsMessageStartSuccess"
                  },
                  "title": {
                    "editable": true,
                    "task": "572f",
                    "value": "serviceNowSummary"
                  },
                  "webhookKey": {
                    "task": "job",
                    "value": "policyAutomatedAuthorizationWebhookUrl"
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "msTeamsAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": null
              }
            },
            "groups": [],
            "actor": "job",
            "x": 0.7300789662598708,
            "y": 0.7789203084832905,
            "nodeLocation": {
              "x": -1380,
              "y": 1728
            }
          },
          "79f3": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Send Notification MSTeams - Failure",
            "description": "Send Teams Notification",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Send Notification - Microsoft - Teams - REST",
                "variables": {
                  "text": {
                    "editable": true,
                    "task": "4257",
                    "value": "teamsMessageStartFailure"
                  },
                  "title": {
                    "editable": true,
                    "task": "4257",
                    "value": "serviceNowSummary"
                  },
                  "webhookKey": {
                    "task": "job",
                    "value": "policyAutomatedFailureWebhookUrl"
                  },
                  "fileName": {
                    "task": "4257",
                    "value": "teamsMessageStart"
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "msTeamsAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": null
              }
            },
            "groups": [],
            "actor": "job",
            "x": 0.45513280689160085,
            "y": 0.9460154241645244,
            "nodeLocation": {
              "x": -1380,
              "y": 1836
            }
          },
          "f3ec": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Update Change Request - ServiceNow",
            "description": "Update Change Request - ServiceNow",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Update Change Request - ServiceNow",
                "variables": {
                  "crNumber": {
                    "editable": true,
                    "task": "e365",
                    "value": "return_data"
                  },
                  "comments": {
                    "editable": true,
                    "task": "fbe8",
                    "value": "result"
                  },
                  "state": {
                    "editable": true,
                    "task": "static",
                    "value": ""
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "serviceNowAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": null
              }
            },
            "groups": [],
            "actor": "job",
            "x": 0.3180186647523331,
            "y": 0.7647814910025706,
            "nodeLocation": {
              "x": -1680,
              "y": 1728
            }
          },
          "e365": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Change Request number",
            "description": "Query Change Request number",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "createdCR.response.number",
                "obj": "$var.7c58.job_details"
              },
              "outgoing": {
                "return_data": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "x": -0.6805455850681982,
            "y": 0.8264781491002571,
            "scheduled": false,
            "nodeLocation": {
              "x": -3768,
              "y": 1836
            }
          },
          "fd52": {
            "name": "newVariable",
            "canvasName": "newVariable",
            "summary": "List of Permitted IPs",
            "description": "List of valid IPs to approve traffic against. Can replace with call to external service to get valid IPs",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "name": "allowedIPList",
                "value": [
                  "10.10.10.10"
                ]
              },
              "outgoing": {
                "value": null
              }
            },
            "groups": [],
            "x": -1.3718592964824121,
            "y": 0.7853470437017995,
            "nodeLocation": {
              "x": -4944,
              "y": 1728
            }
          },
          "2a1a": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Eval Src IP in Allowed List",
            "description": "Run an evaluation to ensure the source IP is allowed to be added to the SG ingress",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "query": "",
                        "operand_1": {
                          "variable": "allowedIPList",
                          "task": "job"
                        },
                        "operator": "contains",
                        "operand_2": {
                          "variable": "sourceIP",
                          "task": "5847"
                        },
                        "rightQuery": ""
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": -1.0265613783201724,
            "y": 0.7776349614395887,
            "nodeLocation": {
              "x": -4320,
              "y": 1728
            }
          },
          "5c3": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Send Notification MSTeams Failure - Allowed List",
            "description": "Send Teams Notification",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Send Notification - Microsoft - Teams - REST",
                "variables": {
                  "text": {
                    "editable": true,
                    "task": "b2b8",
                    "value": "teamsDeniedMessage"
                  },
                  "title": {
                    "editable": true,
                    "task": "5847",
                    "value": "serviceNowSummary"
                  },
                  "webhookKey": {
                    "task": "job",
                    "value": "allPolicyEventsWebhookUrl"
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "msTeamsAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": null
              }
            },
            "groups": [],
            "actor": "job",
            "x": -1.0251256281407035,
            "y": 1.2673521850899743,
            "nodeLocation": {
              "x": -4320,
              "y": 1932
            }
          },
          "b2b8": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "AWS Blocked Traffic Event - Allowed List Error",
            "description": "Build AWS blocked traffic event allowed list data",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "649e1ee2d8cf7a00af456028",
                "variableMap": {
                  "links": "$var.job.Links",
                  "dimensions": "$var.job.Dimensions",
                  "jobId": "$var.job._id",
                  "allowedIPList": "$var.job.allowedIPList",
                  "iapUrl": "$var.job.iapUrl"
                },
                "options": {
                  "extractOutput": true,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "teamsDeniedMessage": null
              },
              "decorators": []
            },
            "groups": [],
            "x": -1.0265613783201724,
            "y": 1.012853470437018,
            "task_name": "AWS Blocked Traffic Event - Allowed List Error",
            "retrySettings": null,
            "nodeLocation": {
              "x": -4320,
              "y": 1824
            }
          }
        },
        "transitions": {
          "1232": {
            "9e2a": {
              "type": "standard",
              "state": "success"
            }
          },
          "1587": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "4257": {
            "79f3": {
              "type": "standard",
              "state": "success"
            }
          },
          "5847": {
            "2a1a": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_start": {
            "fd52": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "7c58": {
            "d6d4": {
              "type": "standard",
              "state": "success"
            },
            "e365": {
              "type": "standard",
              "state": "success"
            }
          },
          "8c16": {
            "d861": {
              "type": "standard",
              "state": "success"
            }
          },
          "f484": {
            "8c16": {
              "type": "standard",
              "state": "success"
            }
          },
          "d6d4": {
            "572f": {
              "type": "standard",
              "state": "success"
            }
          },
          "fbe8": {
            "f3ec": {
              "type": "standard",
              "state": "success"
            }
          },
          "d861": {
            "c038": {
              "type": "standard",
              "state": "success"
            }
          },
          "c038": {
            "1232": {
              "type": "standard",
              "state": "failure"
            },
            "fbe8": {
              "type": "standard",
              "state": "success"
            }
          },
          "572f": {
            "f484": {
              "type": "standard",
              "state": "success"
            }
          },
          "9e2a": {
            "4257": {
              "type": "standard",
              "state": "success"
            }
          },
          "7dc": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "79f3": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "f3ec": {
            "7dc": {
              "state": "success",
              "type": "standard"
            }
          },
          "e365": {
            "572f": {
              "type": "standard",
              "state": "success"
            }
          },
          "fd52": {
            "5847": {
              "type": "standard",
              "state": "success"
            }
          },
          "2a1a": {
            "b2b8": {
              "type": "standard",
              "state": "failure"
            },
            "7c58": {
              "type": "standard",
              "state": "success"
            }
          },
          "5c3": {
            "1587": {
              "state": "success",
              "type": "standard"
            }
          },
          "b2b8": {
            "5c3": {
              "type": "standard",
              "state": "success"
            }
          },
          "84f7": {},
          "71ef": {}
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "serviceNowAdapter": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "iapUrl": {
              "$id": "iapURL",
              "type": "string",
              "examples": [
                "https://iap_1:3443"
              ]
            },
            "serviceNowUrl": {
              "$id": "serviceNowURL",
              "type": "string",
              "examples": [
                "https://servicenow_dev.com"
              ]
            },
            "Dimensions": {
              "$id": "dimensions",
              "type": "object",
              "properties": {
                "AS_src": {
                  "type": "string",
                  "examples": [
                    "198465"
                  ]
                },
                "IP_dst": {
                  "type": "string",
                  "examples": [
                    "10.0.18.252"
                  ],
                  "format": "ipv4"
                },
                "IP_src": {
                  "type": "string",
                  "examples": [
                    "45.129.14.30"
                  ],
                  "format": "ipv4"
                },
                "kt_aws_dst_sg": {
                  "type": "string",
                  "examples": [
                    "webserver-kentik"
                  ]
                }
              },
              "required": []
            },
            "Links": {
              "$id": "links",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "Name": {
                    "type": "string",
                    "examples": [
                      "DashboardAlarmURL"
                    ]
                  },
                  "Value": {
                    "type": "string",
                    "examples": [
                      "https://portal.kentik.com/v4/library/dashboards/18392"
                    ]
                  }
                },
                "required": []
              }
            },
            "_id": {
              "$id": "jobId",
              "type": "string",
              "examples": [
                "7517dfb1b5fd4af2bac87a02"
              ]
            },
            "AlarmPolicyName": {
              "$id": "alarmPolicyName",
              "type": "string",
              "examples": [
                "Web Server Traffic Rejections"
              ]
            },
            "awsEC2Adapter": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "allPolicyEventsWebhookUrl": {
              "title": "webhookKey",
              "type": "string"
            },
            "msTeamsAdapter": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "policyAutomatedAuthorizationWebhookUrl": {
              "title": "webhookKey",
              "type": "string"
            },
            "policyAutomatedFailureWebhookUrl": {
              "title": "webhookKey",
              "type": "string"
            }
          },
          "required": [
            "serviceNowAdapter",
            "iapUrl",
            "serviceNowUrl",
            "Dimensions",
            "Links",
            "_id",
            "AlarmPolicyName",
            "awsEC2Adapter",
            "allPolicyEventsWebhookUrl",
            "msTeamsAdapter",
            "policyAutomatedAuthorizationWebhookUrl",
            "policyAutomatedFailureWebhookUrl"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "serviceNowAdapter": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "iapUrl": {
              "$id": "iapURL",
              "type": "string",
              "examples": [
                "https://iap_1:3443"
              ]
            },
            "serviceNowUrl": {
              "$id": "serviceNowURL",
              "type": "string",
              "examples": [
                "https://servicenow_dev.com"
              ]
            },
            "Dimensions": {
              "$id": "dimensions",
              "type": "object",
              "properties": {
                "AS_src": {
                  "type": "string",
                  "examples": [
                    "198465"
                  ]
                },
                "IP_dst": {
                  "type": "string",
                  "examples": [
                    "10.0.18.252"
                  ],
                  "format": "ipv4"
                },
                "IP_src": {
                  "type": "string",
                  "examples": [
                    "45.129.14.30"
                  ],
                  "format": "ipv4"
                },
                "kt_aws_dst_sg": {
                  "type": "string",
                  "examples": [
                    "webserver-kentik"
                  ]
                }
              },
              "required": []
            },
            "Links": {
              "$id": "links",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "Name": {
                    "type": "string",
                    "examples": [
                      "DashboardAlarmURL"
                    ]
                  },
                  "Value": {
                    "type": "string",
                    "examples": [
                      "https://portal.kentik.com/v4/library/dashboards/18392"
                    ]
                  }
                },
                "required": []
              }
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "AlarmPolicyName": {
              "$id": "alarmPolicyName",
              "type": "string",
              "examples": [
                "Web Server Traffic Rejections"
              ]
            },
            "awsEC2Adapter": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "allPolicyEventsWebhookUrl": {
              "title": "webhookKey",
              "type": "string"
            },
            "msTeamsAdapter": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "policyAutomatedAuthorizationWebhookUrl": {
              "title": "webhookKey",
              "type": "string"
            },
            "policyAutomatedFailureWebhookUrl": {
              "title": "webhookKey",
              "type": "string"
            },
            "initiator": {
              "type": "string"
            },
            "allowedIPList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "type": "automation",
        "font_size": 12,
        "last_updated": "2023-11-06T19:15:31.518Z",
        "lastUpdatedVersion": "5.46.0-2023.1.19.0",
        "created": "2023-06-02T15:54:40.814Z",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Mike",
          "inactive": true
        },
        "createdVersion": "5.44.64-2022.1.33.0",
        "preAutomationTime": 0,
        "sla": 0,
        "canvasVersion": 1.5,
        "last_updated_by": {
          "provenance": "local_aaa",
          "username": "admin@pronghorn",
          "firstname": "admin",
          "inactive": false
        },
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "AWS Blocked Traffic Event - Reset - Kentik - Example",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": 0,
            "y": 0.5,
            "nodeLocation": {
              "x": 360,
              "y": 996
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": 0.8399138549892319,
            "y": 0.4897172236503856,
            "nodeLocation": {
              "x": 1776,
              "y": 996
            }
          },
          "ce19": {
            "name": "revokeSecurityGroupIngress",
            "canvasName": "revokeSecurityGroupIngress",
            "summary": "Revoke Ingress IP",
            "description": "Revoke Ingress IP",
            "location": "Adapter",
            "locationType": "Awsec2",
            "app": "Awsec2",
            "type": "automatic",
            "displayName": "Awsec2",
            "variables": {
              "incoming": {
                "cidrIp": "$var.b2c1.cidrSourceIP",
                "fromPort": 80,
                "groupId": "$var.a524.return_data",
                "groupName": "",
                "ipPermissions": "",
                "ipProtocol": "tcp",
                "sourceSecurityGroupName": "",
                "sourceSecurityGroupOwnerId": "",
                "toPort": 80,
                "dryRun": false,
                "adapter_id": "$var.b2c1.awsEC2Adapter"
              },
              "outgoing": {
                "result": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.6525484565685571,
            "y": 0.480719794344473,
            "scheduled": false,
            "nodeLocation": {
              "x": 1536,
              "y": 996
            }
          },
          "3ea2": {
            "name": "describeSecurityGroups",
            "canvasName": "describeSecurityGroups",
            "summary": "Get Security Groups from AWS",
            "description": "Get Security Groups from AWS",
            "location": "Adapter",
            "locationType": "Awsec2",
            "app": "Awsec2",
            "type": "automatic",
            "displayName": "Awsec2",
            "variables": {
              "incoming": {
                "filter": "$var.b2c1.securityGroupSearchData",
                "groupId": "",
                "groupName": "",
                "dryRun": false,
                "nextToken": "",
                "maxResults": "",
                "adapter_id": "$var.b2c1.awsEC2Adapter"
              },
              "outgoing": {
                "result": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.36180904522613067,
            "y": 0.48586118251928023,
            "scheduled": false,
            "nodeLocation": {
              "x": 912,
              "y": 996
            }
          },
          "a524": {
            "name": "query",
            "canvasName": "query",
            "summary": "Security Group ID",
            "description": "Query SG ID",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "response.DescribeSecurityGroupsResponse.securityGroupInfo.item.groupId",
                "obj": "$var.3ea2.result"
              },
              "outgoing": {
                "return_data": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "x": 0.49820531227566406,
            "y": 0.4922879177377892,
            "scheduled": false,
            "nodeLocation": {
              "x": 1224,
              "y": 996
            }
          },
          "b2c1": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Process AWS Blocked Traffic Event - Reset Inputs",
            "description": "Perform a JSON Transformation using the JST library.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "654144da2c883d00f315fdd2",
                "variableMap": {
                  "formData": "$var.job.formData"
                },
                "options": ""
              },
              "outgoing": {
                "cidrSourceIP": null,
                "awsEC2Adapter": null,
                "securityGroupSearchData": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 600,
              "y": 996
            }
          }
        },
        "transitions": {
          "workflow_start": {
            "b2c1": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_end": {},
          "ce19": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "3ea2": {
            "a524": {
              "type": "standard",
              "state": "success"
            }
          },
          "a524": {
            "ce19": {
              "type": "standard",
              "state": "success"
            }
          },
          "b2c1": {
            "3ea2": {
              "state": "success",
              "type": "standard"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "formData": {
              "$id": "formData",
              "type": "object",
              "properties": {
                "sourceIP": {
                  "type": "string",
                  "examples": [
                    "10.10.10.10"
                  ]
                },
                "awsEC2Adapter": {
                  "type": "string",
                  "examples": [
                    "AWS"
                  ]
                },
                "awsSecurityGroup": {
                  "type": "string",
                  "examples": [
                    "webserver-kentik"
                  ]
                }
              },
              "required": []
            }
          },
          "required": [
            "formData"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "formData": {
              "$id": "formData",
              "type": "object",
              "properties": {
                "sourceIP": {
                  "type": "string",
                  "examples": [
                    "10.10.10.10"
                  ]
                },
                "awsEC2Adapter": {
                  "type": "string",
                  "examples": [
                    "AWS"
                  ]
                },
                "awsSecurityGroup": {
                  "type": "string",
                  "examples": [
                    "webserver-kentik"
                  ]
                }
              },
              "required": []
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            }
          }
        },
        "type": "automation",
        "font_size": 12,
        "last_updated": "2023-10-31T21:09:02.032Z",
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "created": "2023-06-29T22:33:20.270Z",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "createdVersion": "5.44.64-2022.1.33.0",
        "preAutomationTime": 0,
        "sla": 0,
        "canvasVersion": 1.5,
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Device Onboarding - Kentik - Example",
        "tasks": {
          "8555": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Provision IOS-XE",
            "description": "Runs a child job inside a workflow.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Push Configuration to Device - IAG",
                "variables": {
                  "autoApprove": {
                    "task": "static",
                    "value": true
                  },
                  "device": {
                    "task": "cca9",
                    "value": "deviceName"
                  },
                  "templateName": {
                    "task": "static",
                    "value": "IOS-XE Flow Config - Kentik - Example"
                  },
                  "templateVariables": {
                    "task": "596f",
                    "value": "templateVars"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": 828,
              "y": -192
            }
          },
          "8885": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Kentik Device ID to Netbox Asset Tag",
            "description": "Perform a JSON Transformation using the JST library.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "650b63ef64654800d3248063",
                "variableMap": {
                  "netboxDevice": "$var.df1c.return_data",
                  "kentikDevice": "$var.4d8e.return_data"
                },
                "options": {
                  "extractOutput": true,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "netboxId": null,
                "netboxDevice": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -396,
              "y": -192
            }
          },
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "nodeLocation": {
              "x": -2904,
              "y": -192
            },
            "x": 0,
            "y": 0.5
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "nodeLocation": {
              "x": 1656,
              "y": -192
            },
            "x": 1,
            "y": 0.5
          },
          "d9bb": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Create Device - Kentik",
            "description": "Create device in Kentik",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Create Device - Kentik - REST",
                "variables": {
                  "siteName": {
                    "task": "babf",
                    "value": "siteName"
                  },
                  "bgpNeighborPassword": {
                    "task": "babf",
                    "value": "bgpNeighborPassword"
                  },
                  "bgpNeighborASN": {
                    "task": "babf",
                    "value": "bgpNeighborASN"
                  },
                  "name": {
                    "task": "babf",
                    "value": "name"
                  },
                  "description": {
                    "task": "babf",
                    "value": "description"
                  },
                  "planId": {
                    "task": "babf",
                    "value": "planId"
                  },
                  "sampleRate": {
                    "task": "babf",
                    "value": "sampleRate"
                  },
                  "sendingIPs": {
                    "task": "babf",
                    "value": "sendingIPs"
                  },
                  "snmpIP": {
                    "task": "babf",
                    "value": "snmpIP"
                  },
                  "snmpCommunity": {
                    "task": "babf",
                    "value": "snmpCommunity"
                  },
                  "snmpConfUsername": {
                    "task": "babf",
                    "value": "snmpConfUsername"
                  },
                  "snmpConfAuthenticationProtocol": {
                    "task": "babf",
                    "value": "snmpConfAuthenticationProtocol"
                  },
                  "snmpConfAuthenticationPassphrase": {
                    "task": "babf",
                    "value": "snmpConfAuthenticationPassphrase"
                  },
                  "snmpPrivacyProtocol": {
                    "task": "babf",
                    "value": "snmpPrivacyProtocol"
                  },
                  "snmpPrivacyPassphrase": {
                    "task": "babf",
                    "value": "snmpPrivacyPassphrase"
                  },
                  "bgpType": {
                    "task": "babf",
                    "value": "bgpType"
                  },
                  "bgpNeighborIP": {
                    "task": "babf",
                    "value": "bgpNeighborIP"
                  },
                  "bgpNeighborIP6": {
                    "task": "babf",
                    "value": "bgpNeighborIP6"
                  },
                  "type": {
                    "task": "babf",
                    "value": "type"
                  },
                  "adapterId": {
                    "task": "cca9",
                    "value": "kentikAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": -840,
              "y": -192
            }
          },
          "4d8e": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Kentik Device Object",
            "description": "Query data using a dot/bracket notation string and a matching key/value pair.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "device",
                "obj": "$var.d9bb.job_details"
              },
              "outgoing": {
                "return_data": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -624,
              "y": -300
            }
          },
          "df1c": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Netbox Device Object",
            "description": "Query data using a dot/bracket notation string and a matching key/value pair.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "response.results[0]",
                "obj": "$var.c00a.result"
              },
              "outgoing": {
                "return_data": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -624,
              "y": -84
            }
          },
          "596f": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Kentik IOS-XE Config JST",
            "description": "Perform a JSON Transformation using the JST library.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "650b873164654800d3248064",
                "variableMap": {
                  "netboxDevice": "$var.df1c.return_data",
                  "jobId": "$var.job._id",
                  "vrfGatewayIP": "",
                  "kentikCompanySettings": "$var.d15b.result"
                },
                "options": {
                  "extractOutput": true,
                  "validateIncoming": false,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "templateVars": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 528,
              "y": -192
            }
          },
          "d15b": {
            "name": "genericAdapterRequestNoBasePath",
            "canvasName": "genericAdapterRequestNoBasePath",
            "summary": "Get Kentik Company Settings (Flow IP/Port)",
            "description": "Makes the requested generic call",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "uriPath": "/api/ui/companySettings",
                "restMethod": "GET",
                "queryData": "",
                "requestBody": "",
                "addlHeaders": "",
                "adapter_id": "$var.cca9.kentikAdapter"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 228,
              "y": -192
            }
          },
          "babf": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Device Onboarding - Demo",
            "description": "Perform a JSON Transformation using the JST library.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "650b4bab64654800d3248062",
                "variableMap": {
                  "netbox": "$var.c00a.result",
                  "planId": 44662,
                  "jobId": "$var.job._id",
                  "serviceNowSysId": "$var.0e61.return_data",
                  "iapURL": "$var.cca9.iapURL",
                  "serviceNowURL": "$var.cca9.serviceNowURL"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": false,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "type": null,
                "name": null,
                "description": null,
                "planId": null,
                "sampleRate": null,
                "sendingIPs": null,
                "snmpIP": null,
                "snmpCommunity": null,
                "snmpConfUsername": null,
                "snmpConfAuthenticationProtocol": null,
                "snmpConfAuthenticationPassphrase": null,
                "snmpPrivacyProtocol": null,
                "snmpPrivacyPassphrase": null,
                "bgpType": null,
                "bgpNeighborIP": null,
                "bgpNeighborIP6": null,
                "bgpNeighborASN": null,
                "bgpNeighborPassword": null,
                "siteName": null,
                "teamsMessageStart": null,
                "teamsMessageEnd": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -1440,
              "y": -192
            }
          },
          "c00a": {
            "name": "getDcimDevices",
            "canvasName": "getDcimDevices",
            "summary": "Get Device - Netbox",
            "description": "Overrides ListModelMixin to allow processing ExportTemplates.",
            "location": "Adapter",
            "locationType": "NetboxV33",
            "app": "NetboxV33",
            "type": "automatic",
            "displayName": "NetboxV3",
            "variables": {
              "incoming": {
                "id": "",
                "name": "",
                "assetTag": "",
                "face": "",
                "position": "",
                "airflow": "",
                "vcPosition": "",
                "vcPriority": "",
                "created": "",
                "lastUpdated": "",
                "q": "",
                "tag": "",
                "tenantGroupId": "",
                "tenantGroup": "",
                "tenantId": "",
                "tenant": "",
                "contact": "",
                "contactRole": "",
                "contactGroup": "",
                "localContextData": "",
                "manufacturerId": "",
                "manufacturer": "",
                "deviceTypeId": "",
                "roleId": "",
                "role": "",
                "parentDeviceId": "",
                "platformId": "",
                "platform": "",
                "regionId": "",
                "region": "",
                "siteGroupId": "",
                "siteGroup": "",
                "siteId": "",
                "site": "",
                "locationId": "",
                "rackId": "",
                "clusterId": "",
                "model": "",
                "status": "",
                "isFullDepth": "",
                "macAddress": "",
                "serial": "",
                "hasPrimaryIp": "",
                "virtualChassisId": "",
                "virtualChassisMember": "",
                "consolePorts": "",
                "consoleServerPorts": "",
                "powerPorts": "",
                "powerOutlets": "",
                "interfaces": "",
                "passThroughPorts": "",
                "moduleBays": "",
                "deviceBays": "",
                "idN": "",
                "idLte": "",
                "idLt": "",
                "idGte": "",
                "idGt": "",
                "nameN": "",
                "nameIc": "",
                "nameNic": "",
                "nameIew": "",
                "nameNiew": "",
                "nameIsw": "",
                "nameNisw": "",
                "nameIe": "",
                "nameNie": "",
                "assetTagN": "",
                "assetTagIc": "",
                "assetTagNic": "",
                "assetTagIew": "",
                "assetTagNiew": "",
                "assetTagIsw": "",
                "assetTagNisw": "",
                "assetTagIe": "",
                "assetTagNie": "",
                "faceN": "",
                "positionN": "",
                "positionLte": "",
                "positionLt": "",
                "positionGte": "",
                "positionGt": "",
                "airflowN": "",
                "vcPositionN": "",
                "vcPositionLte": "",
                "vcPositionLt": "",
                "vcPositionGte": "",
                "vcPositionGt": "",
                "vcPriorityN": "",
                "vcPriorityLte": "",
                "vcPriorityLt": "",
                "vcPriorityGte": "",
                "vcPriorityGt": "",
                "createdN": "",
                "createdLte": "",
                "createdLt": "",
                "createdGte": "",
                "createdGt": "",
                "lastUpdatedN": "",
                "lastUpdatedLte": "",
                "lastUpdatedLt": "",
                "lastUpdatedGte": "",
                "lastUpdatedGt": "",
                "tagN": "",
                "tenantGroupIdN": "",
                "tenantGroupN": "",
                "tenantIdN": "",
                "tenantN": "",
                "contactN": "",
                "contactRoleN": "",
                "contactGroupN": "",
                "manufacturerIdN": "",
                "manufacturerN": "",
                "deviceTypeIdN": "",
                "roleIdN": "",
                "roleN": "",
                "parentDeviceIdN": "",
                "platformIdN": "",
                "platformN": "",
                "regionIdN": "",
                "regionN": "",
                "siteGroupIdN": "",
                "siteGroupN": "",
                "siteIdN": "",
                "siteN": "",
                "locationIdN": "",
                "rackIdN": "",
                "clusterIdN": "",
                "modelN": "",
                "statusN": "",
                "macAddressN": "",
                "macAddressIc": "",
                "macAddressNic": "",
                "macAddressIew": "",
                "macAddressNiew": "",
                "macAddressIsw": "",
                "macAddressNisw": "",
                "macAddressIe": "",
                "macAddressNie": "",
                "serialN": "",
                "serialIc": "",
                "serialNic": "",
                "serialIew": "",
                "serialNiew": "",
                "serialIsw": "",
                "serialNisw": "",
                "serialIe": "",
                "serialNie": "",
                "virtualChassisIdN": "",
                "ordering": "",
                "limit": "",
                "offset": "",
                "adapter_id": "$var.cca9.netBoxAdapter"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -1740,
              "y": -192
            }
          },
          "ebfd": {
            "name": "patchDcimDevicesId",
            "canvasName": "patchDcimDevicesId",
            "summary": "Update Netbox with Kentik ID",
            "description": "dcim_devices_partial_update",
            "location": "Adapter",
            "locationType": "NetboxV33",
            "app": "NetboxV33",
            "type": "automatic",
            "displayName": "NetboxV3",
            "variables": {
              "incoming": {
                "id": "$var.8885.netboxId",
                "data": "$var.8885.netboxDevice",
                "adapter_id": "$var.cca9.netBoxAdapter"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -84,
              "y": -192
            }
          },
          "7c4b": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Device Flow Test",
            "description": "Runs a child job inside a workflow.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Device Onboarding Flow Test - Kentik - Example",
                "variables": {
                  "deviceName": {
                    "task": "cca9",
                    "value": "deviceName"
                  },
                  "autoApprove": {
                    "task": "static",
                    "value": true
                  },
                  "templateName": {
                    "task": "static",
                    "value": "Ping - IOS"
                  },
                  "templateVariables": {
                    "task": "static",
                    "value": {
                      "address": "google.com",
                      "repeat": "1000"
                    }
                  },
                  "reattempt": {
                    "task": "static",
                    "value": false
                  },
                  "_id": {
                    "task": "job",
                    "value": "_id"
                  },
                  "reattemptWaitTime": {
                    "task": "static",
                    "value": 0
                  },
                  "reattemptQuantity": {
                    "task": "static",
                    "value": 0
                  },
                  "adapterId": {
                    "task": "cca9",
                    "value": "kentikAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": 1128,
              "y": -192
            }
          },
          "af00": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Create Change Request",
            "description": "Runs a child job inside a workflow.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Create Change Request - ServiceNow",
                "variables": {
                  "title": {
                    "task": "cca9",
                    "value": "serviceNowSummary"
                  },
                  "assignmentGroup": {
                    "task": "static",
                    "value": null
                  },
                  "comments": {
                    "task": "cca9",
                    "value": "serviceNowComments"
                  },
                  "description": {
                    "task": "cca9",
                    "value": "serviceNowSummary"
                  },
                  "summary": {
                    "task": "cca9",
                    "value": "serviceNowSummary"
                  },
                  "adapterId": {
                    "task": "cca9",
                    "value": "serviceNowAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": -2352,
              "y": -192
            }
          },
          "0e61": {
            "name": "query",
            "canvasName": "query",
            "summary": "Get ServiceNow Sys ID",
            "description": "Query data using a dot/bracket notation string and a matching key/value pair.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "createdCR.response.id",
                "obj": "$var.af00.job_details"
              },
              "outgoing": {
                "return_data": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -2052,
              "y": -192
            }
          },
          "b9a5": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "MS Teams Start Message",
            "description": "Runs a child job inside a workflow.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Send Notification - Microsoft - Teams - REST",
                "variables": {
                  "webhookKey": {
                    "task": "cca9",
                    "value": "deviceOnboardingWebhookURL"
                  },
                  "text": {
                    "task": "babf",
                    "value": "teamsMessageStart"
                  },
                  "title": {
                    "task": "cca9",
                    "value": "serviceNowSummary"
                  },
                  "adapterId": {
                    "task": "cca9",
                    "value": "msTeamsAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": -1140,
              "y": -192
            }
          },
          "c7fc": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "MS Teams End Message",
            "description": "Runs a child job inside a workflow.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Send Notification - Microsoft - Teams - REST",
                "variables": {
                  "webhookKey": {
                    "task": "cca9",
                    "value": "deviceOnboardingWebhookURL"
                  },
                  "text": {
                    "task": "babf",
                    "value": "teamsMessageEnd"
                  },
                  "title": {
                    "task": "cca9",
                    "value": "serviceNowSummary"
                  },
                  "adapterId": {
                    "task": "cca9",
                    "value": "msTeamsAdapter"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": 1428,
              "y": -192
            }
          },
          "cca9": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Process Kentik Device Onboarding Form Inputs",
            "description": "Process Kentik device onboarding form inputs",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "653fc12f2c883d00f315fdcf",
                "variableMap": {
                  "formData": "$var.job.formData",
                  "itentialJobId": "$var.job._id"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "serviceNowComments": null,
                "serviceNowSummary": null,
                "deviceName": null,
                "iapURL": null,
                "serviceNowURL": null,
                "deviceOnboardingWebhookURL": null,
                "serviceNowAdapter": null,
                "netBoxAdapter": null,
                "msTeamsAdapter": null,
                "kentikAdapter": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -2664,
              "y": -192
            }
          }
        },
        "transitions": {
          "8555": {
            "7c4b": {
              "state": "success",
              "type": "standard"
            }
          },
          "8885": {
            "ebfd": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_start": {
            "cca9": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_end": {},
          "d9bb": {
            "4d8e": {
              "state": "success",
              "type": "standard"
            },
            "df1c": {
              "state": "success",
              "type": "standard"
            }
          },
          "4d8e": {
            "8885": {
              "state": "success",
              "type": "standard"
            }
          },
          "df1c": {
            "8885": {
              "state": "success",
              "type": "standard"
            }
          },
          "596f": {
            "8555": {
              "state": "success",
              "type": "standard"
            }
          },
          "d15b": {
            "596f": {
              "state": "success",
              "type": "standard"
            }
          },
          "babf": {
            "b9a5": {
              "state": "success",
              "type": "standard"
            }
          },
          "c00a": {
            "babf": {
              "state": "success",
              "type": "standard"
            }
          },
          "ebfd": {
            "d15b": {
              "state": "success",
              "type": "standard"
            }
          },
          "7c4b": {
            "c7fc": {
              "state": "success",
              "type": "standard"
            }
          },
          "af00": {
            "0e61": {
              "state": "success",
              "type": "standard"
            }
          },
          "0e61": {
            "c00a": {
              "state": "success",
              "type": "standard"
            }
          },
          "b9a5": {
            "d9bb": {
              "state": "success",
              "type": "standard"
            }
          },
          "c7fc": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "cca9": {
            "af00": {
              "state": "success",
              "type": "standard"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "_id": {
              "$id": "jobId",
              "type": "string",
              "examples": [
                "afdaf323r4"
              ]
            },
            "formData": {
              "$id": "formData",
              "type": "object",
              "properties": {
                "deviceName": {
                  "type": "string",
                  "examples": [
                    "IOS_Device_Name"
                  ]
                },
                "iapUrl": {
                  "type": "string",
                  "examples": [
                    "https://iap_01:3443"
                  ]
                },
                "serviceNowUrl": {
                  "type": "string",
                  "examples": [
                    "https://servicenow_dev.com"
                  ]
                },
                "deviceOnboardingWebhookUrl": {
                  "type": "string",
                  "examples": [
                    "webhookURL"
                  ]
                },
                "serviceNowAdapter": {
                  "type": "string",
                  "examples": [
                    "ServiceNow"
                  ]
                },
                "netBoxAdapter": {
                  "type": "string",
                  "examples": [
                    "NetboxV3"
                  ]
                },
                "msTeamsAdapter": {
                  "type": "string",
                  "examples": [
                    "MS Teams"
                  ]
                },
                "kentikAdapter": {
                  "type": "string",
                  "examples": [
                    "Kentik v5"
                  ]
                }
              },
              "required": []
            }
          },
          "required": [
            "_id",
            "formData"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "formData": {
              "$id": "formData",
              "type": "object",
              "properties": {
                "deviceName": {
                  "type": "string",
                  "examples": [
                    "IOS_Device_Name"
                  ]
                },
                "iapUrl": {
                  "type": "string",
                  "examples": [
                    "https://iap_01:3443"
                  ]
                },
                "serviceNowUrl": {
                  "type": "string",
                  "examples": [
                    "https://servicenow_dev.com"
                  ]
                },
                "deviceOnboardingWebhookUrl": {
                  "type": "string",
                  "examples": [
                    "webhookURL"
                  ]
                },
                "serviceNowAdapter": {
                  "type": "string",
                  "examples": [
                    "ServiceNow"
                  ]
                },
                "netBoxAdapter": {
                  "type": "string",
                  "examples": [
                    "NetboxV3"
                  ]
                },
                "msTeamsAdapter": {
                  "type": "string",
                  "examples": [
                    "MS Teams"
                  ]
                },
                "kentikAdapter": {
                  "type": "string",
                  "examples": [
                    "Kentik v5"
                  ]
                }
              },
              "required": []
            },
            "initiator": {
              "type": "string"
            }
          }
        },
        "type": "automation",
        "font_size": 12,
        "errorHandler": null,
        "preAutomationTime": 0,
        "sla": 0,
        "outputData": {},
        "last_updated": "2023-11-03T15:39:59.561Z",
        "lastUpdatedVersion": "5.46.0-2023.1.19.0",
        "created": "2023-09-02T20:18:46.321Z",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "createdVersion": "5.46.0-2023.1.14.0",
        "canvasVersion": 3,
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Create Incident - ServiceNow",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": 0.062072892938496584,
            "y": 0.4934952298352125,
            "nodeLocation": {
              "x": 360,
              "y": 996
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": 0.36503416856492027,
            "y": 0.48829141370338247
          },
          "12f6": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Verify Incident Creation Successful",
            "description": "Verify if incident creation is successful",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "query": "response.number",
                        "operand_1": {
                          "variable": "result",
                          "task": "bb2d"
                        },
                        "operator": "contains",
                        "operand_2": {
                          "variable": "INC",
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.30353075170842825,
            "y": 0.48829141370338247,
            "nodeLocation": {
              "x": 1224,
              "y": 996
            }
          },
          "c345": {
            "name": "ViewData",
            "canvasName": "ViewData",
            "summary": "ServiceNow Error",
            "description": "Show ServiceNow incident creation error",
            "location": "Application",
            "app": "WorkFlowEngine",
            "displayName": "Tools",
            "type": "manual",
            "variables": {
              "incoming": {
                "header": "Create Incident Error",
                "message": "Unable to create incident",
                "body": "$var.job.serviceNowError",
                "variables": {},
                "btn_success": "OK",
                "btn_failure": ""
              },
              "outgoing": {},
              "error": "",
              "decorators": []
            },
            "view": "/workflow_engine/task/ViewData",
            "groups": [],
            "x": 0.30182232346241455,
            "y": 0.37033824804856896,
            "scheduled": false,
            "nodeLocation": {
              "x": 1224,
              "y": 804
            }
          },
          "aab9": {
            "name": "merge",
            "canvasName": "merge",
            "summary": "Build Incident Creation Payload",
            "description": "Build incident creation payload",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "data_to_merge": [
                  {
                    "key": "summary",
                    "value": {
                      "task": "job",
                      "variable": "summary",
                      "editable": true
                    }
                  },
                  {
                    "key": "comments",
                    "value": {
                      "task": "job",
                      "variable": "comments",
                      "editable": true
                    }
                  }
                ]
              },
              "outgoing": {
                "merged_object": null
              }
            },
            "groups": [],
            "x": 0.12984054669703873,
            "y": 0.4934952298352125
          },
          "bb2d": {
            "name": "createIncident",
            "canvasName": "createIncident",
            "summary": "Create Incident",
            "description": "Create incident in ServiceNow",
            "location": "Adapter",
            "locationType": "Servicenow",
            "app": "Servicenow",
            "type": "automatic",
            "displayName": "Servicenow",
            "variables": {
              "incoming": {
                "body": "$var.aab9.merged_object",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": "$var.job.createdIncident"
              },
              "error": "$var.job.serviceNowError",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.21583143507972666,
            "y": 0.4900260190806591,
            "scheduled": false
          }
        },
        "transitions": {
          "workflow_start": {
            "aab9": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "12f6": {
            "c345": {
              "type": "standard",
              "state": "failure"
            },
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "c345": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "aab9": {
            "bb2d": {
              "type": "standard",
              "state": "success"
            }
          },
          "bb2d": {
            "12f6": {
              "type": "standard",
              "state": "success"
            },
            "c345": {
              "type": "standard",
              "state": "error"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "summary": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "comments": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            }
          },
          "required": [
            "summary",
            "comments",
            "adapterId"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "summary": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "comments": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            },
            "serviceNowError": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "createdIncident": {
              "title": "result",
              "type": "object"
            }
          }
        },
        "created": "2022-03-08T15:20:19.874Z",
        "createdVersion": "5.40.5-2021.1.52.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "jerry.dollens@itential.com",
          "firstname": "Jerry",
          "inactive": false
        },
        "font_size": 12,
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "last_updated": "2023-10-31T21:09:02.035Z",
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "preAutomationTime": 0,
        "sla": 0,
        "type": "automation",
        "canvasVersion": 1.5,
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Device Onboarding - Reset - Kentik - Example",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "nodeLocation": {
              "x": -1440,
              "y": 12
            },
            "x": 0,
            "y": 0.5
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "nodeLocation": {
              "x": 600,
              "y": 12
            },
            "x": 1,
            "y": 0.5
          },
          "e202": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Remove Provisioning",
            "description": "Runs a child job inside a workflow.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Push Configuration to Device - IAG",
                "variables": {
                  "device": {
                    "task": "8bc3",
                    "value": "deviceName"
                  },
                  "templateName": {
                    "task": "static",
                    "value": "IOS-XE Flow Config - Reset - Kentik - Example"
                  },
                  "templateVariables": {
                    "task": "static",
                    "value": {
                      "test": "test"
                    }
                  },
                  "autoApprove": {
                    "task": "static",
                    "value": "true"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": -888,
              "y": 12
            }
          },
          "10bc": {
            "name": "deleteDevice",
            "canvasName": "deleteDevice",
            "summary": "Archive Device",
            "description": "Archive device in Kentik",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "deviceId": "$var.cd87.return_data",
                "adapter_id": "$var.8bc3.kentikAdapter"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 48,
              "y": 12
            }
          },
          "cd87": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Device ID",
            "description": "Query Device ID",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "response.device.id",
                "obj": "$var.f0d2.result"
              },
              "outgoing": {
                "return_data": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -264,
              "y": 12
            }
          },
          "f0d2": {
            "name": "findDevice",
            "canvasName": "findDevice",
            "summary": "findDevice",
            "description": "Returns a device object containing information about an individual device (see  About Devices ). * Required fields.",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "deviceId": "$var.8bc3.deviceName",
                "adapter_id": "$var.8bc3.kentikAdapter"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -576,
              "y": 12
            }
          },
          "959a": {
            "name": "deleteDevice",
            "canvasName": "deleteDevice",
            "summary": "Delete Device",
            "description": "Delete device in Kentik",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "deviceId": "$var.cd87.return_data",
                "adapter_id": "$var.8bc3.kentikAdapter"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 360,
              "y": 12
            }
          },
          "8bc3": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Process Kentik Device Onboarding Reset Form Inputs",
            "description": "Process inputs for Kentik device onboarding reset",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "653fe9a52c883d00f315fdd0",
                "variableMap": {
                  "formData": "$var.job.formData"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "deviceName": null,
                "kentikAdapter": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -1200,
              "y": 12
            }
          }
        },
        "transitions": {
          "workflow_start": {
            "8bc3": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_end": {},
          "e202": {
            "f0d2": {
              "state": "success",
              "type": "standard"
            }
          },
          "10bc": {
            "959a": {
              "state": "success",
              "type": "standard"
            }
          },
          "cd87": {
            "10bc": {
              "state": "success",
              "type": "standard"
            }
          },
          "f0d2": {
            "cd87": {
              "state": "success",
              "type": "standard"
            }
          },
          "959a": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "8bc3": {
            "e202": {
              "state": "success",
              "type": "standard"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "formData": {
              "$id": "formData",
              "type": "object",
              "properties": {
                "deviceName": {
                  "type": "string",
                  "examples": [
                    "IOS_Device_Name"
                  ]
                },
                "kentikAdapter": {
                  "type": "string",
                  "examples": [
                    "Kentik v5"
                  ]
                }
              },
              "required": []
            }
          },
          "required": [
            "formData"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "formData": {
              "$id": "formData",
              "type": "object",
              "properties": {
                "deviceName": {
                  "type": "string",
                  "examples": [
                    "IOS_Device_Name"
                  ]
                },
                "kentikAdapter": {
                  "type": "string",
                  "examples": [
                    "Kentik v5"
                  ]
                }
              },
              "required": []
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            }
          }
        },
        "type": "automation",
        "font_size": 12,
        "errorHandler": null,
        "preAutomationTime": 0,
        "sla": 0,
        "outputData": {},
        "last_updated": "2023-10-31T21:09:02.035Z",
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "created": "2023-09-21T18:15:42.435Z",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "createdVersion": "5.46.0-2023.1.21",
        "canvasVersion": 3,
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Update Change Request - ServiceNow",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": -0.2938496583143508,
            "y": 0.5091066782307025,
            "nodeLocation": {
              "x": -864,
              "y": 996
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": 0.20501138952164008,
            "y": 0.5047701647875108,
            "nodeLocation": {
              "x": 576,
              "y": 996
            }
          },
          "c345": {
            "name": "ViewData",
            "canvasName": "ViewData",
            "summary": "Show ServiceNow Error",
            "description": "Show update change request error and decision options",
            "location": "Application",
            "app": "WorkFlowEngine",
            "displayName": "Tools",
            "type": "manual",
            "variables": {
              "incoming": {
                "header": "ServiceNow Error",
                "message": "",
                "body": "$var.job.serviceNowError",
                "variables": {},
                "btn_success": "OK",
                "btn_failure": ""
              },
              "outgoing": {},
              "error": "",
              "decorators": []
            },
            "view": "/workflow_engine/task/ViewData",
            "groups": [],
            "x": 0.11446469248291571,
            "y": 0.36513443191673894,
            "scheduled": false,
            "nodeLocation": {
              "x": 336,
              "y": 1140
            }
          },
          "2ad1": {
            "name": "updateChangeRequest",
            "canvasName": "updateChangeRequest",
            "summary": "Update Change Request",
            "description": "Update change request state",
            "location": "Adapter",
            "locationType": "Servicenow",
            "app": "Servicenow",
            "type": "automatic",
            "displayName": "Servicenow",
            "variables": {
              "incoming": {
                "changeId": "$var.e4c7.crSysId",
                "body": "$var.e4c7.crUpdatePayload",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": "$var.job.updatedCR"
              },
              "error": "$var.job.serviceNowError",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.11674259681093394,
            "y": 0.5047701647875108,
            "scheduled": false,
            "nodeLocation": {
              "x": 336,
              "y": 996
            }
          },
          "fd22": {
            "name": "getChangeRequests",
            "canvasName": "getChangeRequests",
            "summary": "Get Change Request",
            "description": "Get change request with query parameters provided",
            "location": "Adapter",
            "locationType": "Servicenow",
            "app": "Servicenow",
            "type": "automatic",
            "displayName": "Servicenow",
            "variables": {
              "incoming": {
                "sysparmQuery": "$var.ade8.merged_object",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": null
              },
              "error": "$var.job.serviceNowError",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": -0.13725490196078433,
            "y": 0.5114942528735632,
            "scheduled": false,
            "nodeLocation": {
              "x": -312,
              "y": 996
            }
          },
          "ade8": {
            "name": "merge",
            "canvasName": "merge",
            "summary": "Build sysparmQuery",
            "description": "Build sysparmQuery",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "data_to_merge": [
                  {
                    "key": "number",
                    "value": {
                      "task": "job",
                      "variable": "crNumber",
                      "editable": true
                    }
                  }
                ]
              },
              "outgoing": {
                "merged_object": null
              }
            },
            "groups": [],
            "x": -0.22835990888382687,
            "y": 0.5117085862966175,
            "nodeLocation": {
              "x": -624,
              "y": 996
            }
          },
          "e4c7": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Build CR Update Payload - ServiceNow",
            "description": "Build change request update payload",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "621a5d367393d9019373d137",
                "variableMap": {
                  "changeRequestResponse": "$var.fd22.result",
                  "comments": "$var.job.comments",
                  "state": "$var.job.state"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": false,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "crSysId": null,
                "crUpdatePayload": null
              }
            },
            "groups": [],
            "x": -0.008542141230068337,
            "y": 0.5091066782307025,
            "task_name": "Build CR Update Payload - ServiceNow",
            "retrySettings": null,
            "nodeLocation": {
              "x": 0,
              "y": 996
            }
          }
        },
        "transitions": {
          "workflow_start": {
            "ade8": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "c345": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "2ad1": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            },
            "c345": {
              "type": "standard",
              "state": "error"
            }
          },
          "fd22": {
            "c345": {
              "type": "standard",
              "state": "error"
            },
            "e4c7": {
              "type": "standard",
              "state": "success"
            }
          },
          "ade8": {
            "fd22": {
              "type": "standard",
              "state": "success"
            }
          },
          "e4c7": {
            "2ad1": {
              "type": "standard",
              "state": "success"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "crNumber": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "comments": {
              "$id": "comments",
              "type": "string"
            },
            "state": {
              "$id": "state",
              "type": "string"
            }
          },
          "required": [
            "adapterId",
            "crNumber",
            "comments",
            "state"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "crNumber": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "comments": {
              "$id": "comments",
              "type": "string"
            },
            "state": {
              "$id": "state",
              "type": "string"
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            },
            "serviceNowError": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "updatedCR": {
              "title": "result",
              "type": "object"
            }
          }
        },
        "created": "2022-02-26T16:54:56.153Z",
        "createdVersion": "5.40.5-2021.1.52.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "jerry.dollens@itential.com",
          "firstname": "Jerry",
          "inactive": false
        },
        "font_size": 12,
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "last_updated": "2023-10-31T21:09:02.037Z",
        "preAutomationTime": 0,
        "sla": 0,
        "type": "automation",
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "canvasVersion": 1.5,
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Create Change Request - ServiceNow",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": 0.021070615034168565,
            "y": 0.49956634865568084,
            "nodeLocation": {
              "x": 348,
              "y": 996
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": 0.37585421412300685,
            "y": 0.4943625325238508,
            "nodeLocation": {
              "x": 1512,
              "y": 996
            }
          },
          "cc49": {
            "name": "createChangeRequest",
            "canvasName": "createChangeRequest",
            "summary": "Create Change Request",
            "description": "Create the change with the information provided and return the change number for future reference.",
            "location": "Adapter",
            "locationType": "Servicenow",
            "app": "Servicenow",
            "type": "automatic",
            "displayName": "Servicenow",
            "variables": {
              "incoming": {
                "body": "$var.aab9.merged_object",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": "$var.job.createdCR"
              },
              "error": "$var.job.serviceNowError",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.20862745098039215,
            "y": 0.5,
            "scheduled": false,
            "nodeLocation": {
              "x": 912,
              "y": 996
            }
          },
          "12f6": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Verify CR Creation Successful",
            "description": "CR Creation Successful?",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "query": "response.number",
                        "operand_1": {
                          "variable": "result",
                          "task": "cc49"
                        },
                        "operator": "contains",
                        "operand_2": {
                          "variable": "CHG",
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.30466970387243736,
            "y": 0.49696444058976585,
            "nodeLocation": {
              "x": 1248,
              "y": 996
            }
          },
          "c345": {
            "name": "ViewData",
            "canvasName": "ViewData",
            "summary": "Show ServiceNow Error",
            "description": "Show create change request error and decision options",
            "location": "Application",
            "app": "WorkFlowEngine",
            "displayName": "Tools",
            "type": "manual",
            "variables": {
              "incoming": {
                "header": "Create Change Request Error",
                "message": "Unable to create change request",
                "body": "$var.job.serviceNowError",
                "variables": {},
                "btn_success": "OK",
                "btn_failure": ""
              },
              "outgoing": {},
              "error": "",
              "decorators": []
            },
            "view": "/workflow_engine/task/ViewData",
            "groups": [],
            "x": 0.30125284738041,
            "y": 0.3720728534258456,
            "scheduled": false,
            "nodeLocation": {
              "x": 1248,
              "y": 1128
            }
          },
          "aab9": {
            "name": "merge",
            "canvasName": "merge",
            "summary": "Build CR Creation Payload",
            "description": "Build CR Creation Payload",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "data_to_merge": [
                  {
                    "key": "title",
                    "value": {
                      "task": "job",
                      "variable": "title",
                      "editable": true
                    }
                  },
                  {
                    "key": "summary",
                    "value": {
                      "task": "job",
                      "variable": "summary",
                      "editable": true
                    }
                  },
                  {
                    "key": "description",
                    "value": {
                      "task": "job",
                      "variable": "description",
                      "editable": true
                    }
                  },
                  {
                    "key": "comments",
                    "value": {
                      "task": "job",
                      "variable": "comments",
                      "editable": true
                    }
                  },
                  {
                    "key": "assignment_group",
                    "value": {
                      "task": "job",
                      "variable": "assignmentGroup",
                      "editable": true
                    }
                  }
                ]
              },
              "outgoing": {
                "merged_object": null
              }
            },
            "groups": [],
            "x": 0.10022779043280182,
            "y": 0.49956634865568084,
            "nodeLocation": {
              "x": 600,
              "y": 1000
            }
          }
        },
        "transitions": {
          "workflow_start": {
            "aab9": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "cc49": {
            "12f6": {
              "type": "standard",
              "state": "success"
            },
            "c345": {
              "type": "standard",
              "state": "error"
            }
          },
          "12f6": {
            "c345": {
              "type": "standard",
              "state": "failure"
            },
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "c345": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "aab9": {
            "cc49": {
              "type": "standard",
              "state": "success"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "title": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "summary": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "description": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "comments": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "assignmentGroup": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            }
          },
          "required": [
            "adapterId",
            "title",
            "summary",
            "description",
            "comments",
            "assignmentGroup"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "title": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "summary": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "description": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "comments": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "assignmentGroup": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            },
            "createdCR": {
              "title": "result",
              "type": "object"
            },
            "serviceNowError": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            }
          }
        },
        "created": "2022-02-26T16:32:36.505Z",
        "createdVersion": "5.40.5-2021.1.52.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "jerry.dollens@itential.com",
          "firstname": "Jerry",
          "inactive": false
        },
        "font_size": 12,
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "last_updated": "2023-10-31T21:09:02.037Z",
        "preAutomationTime": 0,
        "sla": 0,
        "type": "automation",
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "canvasVersion": 1.5,
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Send Notification - Microsoft - Teams - REST",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": -0.470335339638865,
            "y": 0.6465968586387435,
            "nodeLocation": {
              "x": -1440,
              "y": 1296
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": -0.00357653791130186,
            "y": 0.6606896551724138,
            "nodeLocation": {
              "x": -648,
              "y": 1296
            }
          },
          "47cf": {
            "name": "createNotification",
            "canvasName": "createNotification",
            "summary": "Create Notification In MS Teams",
            "description": "Create a notification in msteams using webhook key",
            "location": "Adapter",
            "locationType": "Msteams",
            "app": "Msteams",
            "type": "automatic",
            "displayName": "Msteams",
            "variables": {
              "incoming": {
                "text": "$var.job.text",
                "title": "$var.job.title",
                "webhookKey": "$var.job.webhookKey",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": null
              },
              "error": "$var.job.errorMessage",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": -0.26655202063628547,
            "y": 0.6518324607329843,
            "scheduled": false,
            "nodeLocation": {
              "x": -1200,
              "y": 1296
            }
          },
          "99f2": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Verify Notification Created",
            "description": "Run an evaluation",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "operand_1": {
                          "task": "47cf",
                          "variable": "result"
                        },
                        "operand_2": {
                          "task": "static",
                          "variable": 1
                        },
                        "operator": "==",
                        "query": "response",
                        "rightQuery": ""
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -888,
              "y": 1296
            }
          },
          "c6b6": {
            "name": "delay",
            "canvasName": "delay",
            "summary": "Wait 10 Seconds For Retry",
            "description": "Waiting 10 seconds before retrying to submit to MS Teams.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "time": 10
              },
              "outgoing": {
                "time_in_milliseconds": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -888,
              "y": 1404
            }
          }
        },
        "transitions": {
          "4971": {},
          "workflow_start": {
            "47cf": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "47cf": {
            "99f2": {
              "state": "success",
              "type": "standard"
            }
          },
          "99f2": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            },
            "c6b6": {
              "type": "standard",
              "state": "failure"
            }
          },
          "c6b6": {
            "47cf": {
              "state": "success",
              "type": "revert"
            }
          },
          "d30a": {}
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "text": {
              "title": "text",
              "type": "string"
            },
            "title": {
              "title": "title",
              "type": "string"
            },
            "webhookKey": {
              "title": "webhookKey",
              "type": "string"
            },
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            }
          },
          "required": [
            "text",
            "title",
            "webhookKey",
            "adapterId"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "text": {
              "title": "text",
              "type": "string"
            },
            "title": {
              "title": "title",
              "type": "string"
            },
            "webhookKey": {
              "title": "webhookKey",
              "type": "string"
            },
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            },
            "errorMessage": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            }
          }
        },
        "font_size": 12,
        "created": "2020-12-16T22:04:24.265Z",
        "created_by": {
          "provenance": "LDAP Server",
          "username": "abhansali",
          "firstname": "Ankit",
          "inactive": true
        },
        "createdVersion": "5.10.4-2020.1.22.0",
        "last_updated": "2023-10-31T21:09:02.036Z",
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "type": "automation",
        "canvasVersion": 1.5,
        "preAutomationTime": 0,
        "sla": 0,
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Device Onboarding Flow Test - Kentik - Example",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "nodeLocation": {
              "x": 1896,
              "y": 12
            },
            "x": 0,
            "y": 0.5
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "nodeLocation": {
              "x": 3276,
              "y": 12
            },
            "x": 1,
            "y": 0.5
          },
          "7c4b": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Generate Traffic",
            "description": "Runs a child job inside a workflow.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Command Template Runner",
                "variables": {
                  "deviceName": {
                    "task": "job",
                    "value": "deviceName"
                  },
                  "autoApprove": {
                    "task": "static",
                    "value": true
                  },
                  "templateName": {
                    "task": "static",
                    "value": "Ping - IOS - Kentik - Example"
                  },
                  "templateVariables": {
                    "task": "static",
                    "value": {
                      "address": "google.com",
                      "repeat": "1000"
                    }
                  },
                  "reattempt": {
                    "task": "static",
                    "value": false
                  },
                  "_id": {
                    "task": "job",
                    "value": "_id"
                  },
                  "reattemptWaitTime": {
                    "task": "static",
                    "value": 0
                  },
                  "reattemptQuantity": {
                    "task": "static",
                    "value": 0
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": 2436,
              "y": 12
            }
          },
          "c4ab": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Eval Test Pass",
            "description": "Run an evaluation",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "operand_1": {
                          "task": "0bcf",
                          "variable": "job_details"
                        },
                        "operand_2": {
                          "task": "static",
                          "variable": "pass"
                        },
                        "operator": "==",
                        "query": "testResult",
                        "rightQuery": ""
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 3048,
              "y": 12
            }
          },
          "8dd3": {
            "name": "delay",
            "canvasName": "delay",
            "summary": "Delay 10 seconds",
            "description": "Delay a Job for a duration by Job ID and number of seconds.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "time": 10
              },
              "outgoing": {
                "time_in_milliseconds": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 3048,
              "y": 108
            }
          },
          "0bcf": {
            "name": "childJob",
            "canvasName": "childJob",
            "summary": "Device Flow Test - Kentik",
            "description": "Runs device flow test in Kentik",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "task": "",
                "workflow": "Device Flow Test - Kentik - REST",
                "variables": {
                  "deviceName": {
                    "task": "job",
                    "value": "deviceName"
                  },
                  "autoApprove": {
                    "task": "static",
                    "value": true
                  },
                  "templateName": {
                    "task": "static",
                    "value": "Ping - IOS"
                  },
                  "templateVariables": {
                    "task": "static",
                    "value": {
                      "address": "google.com",
                      "repeat": "1000"
                    }
                  },
                  "reattempt": {
                    "task": "static",
                    "value": false
                  },
                  "_id": {
                    "task": "job",
                    "value": "_id"
                  },
                  "reattemptWaitTime": {
                    "task": "static",
                    "value": 0
                  },
                  "reattemptQuantity": {
                    "task": "static",
                    "value": 0
                  },
                  "startTime": {
                    "task": "07ef",
                    "value": "time"
                  },
                  "adapterId": {
                    "task": "job",
                    "value": "adapterId"
                  }
                },
                "data_array": "",
                "transformation": "",
                "loopType": ""
              },
              "outgoing": {
                "job_details": ""
              }
            },
            "actor": "job",
            "groups": [],
            "nodeLocation": {
              "x": 2736,
              "y": 12
            }
          },
          "07ef": {
            "name": "getTime",
            "canvasName": "getTime",
            "summary": "Get time",
            "description": "Gets the current time with an optional offset, timezone shift, and format string",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "automatic",
            "displayName": "Time",
            "variables": {
              "incoming": {
                "timezone": "-11:00",
                "offsetDuration": "",
                "format": ""
              },
              "outgoing": {
                "time": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 2124,
              "y": 12
            }
          }
        },
        "transitions": {
          "workflow_start": {
            "07ef": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_end": {},
          "7c4b": {
            "0bcf": {
              "state": "success",
              "type": "standard"
            }
          },
          "c4ab": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            },
            "8dd3": {
              "state": "failure",
              "type": "standard"
            }
          },
          "8dd3": {
            "7c4b": {
              "type": "revert",
              "state": "success"
            }
          },
          "0bcf": {
            "c4ab": {
              "state": "success",
              "type": "standard"
            }
          },
          "07ef": {
            "7c4b": {
              "state": "success",
              "type": "standard"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "deviceName": {
              "$id": "deviceName",
              "type": "string",
              "examples": [
                "deviceName"
              ]
            },
            "_id": {
              "title": "job_id",
              "type": "string",
              "examples": [
                "test"
              ]
            },
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            }
          },
          "required": [
            "deviceName",
            "_id",
            "adapterId"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "deviceName": {
              "$id": "deviceName",
              "type": "string",
              "examples": [
                "deviceName"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "initiator": {
              "type": "string"
            }
          }
        },
        "type": "automation",
        "font_size": 12,
        "errorHandler": null,
        "preAutomationTime": 0,
        "sla": 0,
        "outputData": {},
        "lastUpdatedVersion": "5.46.0-2023.1.19.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "createdVersion": "5.46.0-2023.1.21",
        "last_updated": "2023-11-03T15:41:33.902Z",
        "created": "2023-09-22T18:31:58.653Z",
        "canvasVersion": 3,
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Push Configuration to Device - IAG",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": -0.28344958782498414,
            "y": 0.5017152658662093,
            "nodeLocation": {
              "x": -540,
              "y": 1056
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": 0.42358909321496513,
            "y": 0.49656946826758147,
            "nodeLocation": {
              "x": 1188,
              "y": 1056
            }
          },
          "ca47": {
            "name": "itential_cli",
            "canvasName": "itential_cli",
            "summary": "Push Configuration to Device",
            "description": "Push configuration to device",
            "location": "Application",
            "locationType": null,
            "app": "AGManager",
            "type": "automatic",
            "displayName": "AG Manager",
            "variables": {
              "incoming": {
                "_hosts": "$var.4a43.deviceArray",
                "_groups": "",
                "command": "$var.4a43.configurationArray"
              },
              "outgoing": {
                "stdout": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.264426125554851,
            "y": 0.49485420240137223,
            "scheduled": false,
            "nodeLocation": {
              "x": 636,
              "y": 1056
            }
          },
          "b9ed": {
            "name": "renderJinjaTemplate",
            "canvasName": "renderJinjaTemplate",
            "summary": "Render Jinja Template",
            "description": "Renders jinja template output.",
            "location": "Application",
            "locationType": null,
            "app": "TemplateBuilder",
            "type": "automatic",
            "displayName": "TemplateBuilder",
            "variables": {
              "incoming": {
                "name": "$var.job.templateName",
                "context": "$var.job.templateVariables"
              },
              "outgoing": {
                "renderedTemplate": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": -0.1876981610653139,
            "y": 0.49828473413379076,
            "scheduled": false,
            "nodeLocation": {
              "x": -300,
              "y": 1056
            }
          },
          "7a4c": {
            "name": "ViewData",
            "canvasName": "ViewData",
            "summary": "View Error",
            "description": "Show configuration error and decision options",
            "location": "Application",
            "app": "WorkFlowEngine",
            "displayName": "WorkFlowEngine",
            "type": "manual",
            "variables": {
              "incoming": {
                "header": "Configuration Error",
                "message": "Pushing configuration to the intended device resulted in an error. See details below. Select \"Retry\" to retry pushing configuration to the device or select \"End Job\" to end the job.\n\n\n\n\n\n",
                "body": "$var.ca47.stdout",
                "variables": {},
                "btn_success": "Retry",
                "btn_failure": "End Job"
              },
              "outgoing": {},
              "error": "",
              "decorators": []
            },
            "view": "/workflow_engine/task/ViewData",
            "groups": [],
            "x": 0.3582752060875079,
            "y": 0.32847341337907376,
            "scheduled": false,
            "nodeLocation": {
              "x": 948,
              "y": 1164
            }
          },
          "f14d": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Eval Success",
            "description": "Run an evaluation",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "query": "completed[0].response[*].status",
                        "operand_1": {
                          "variable": "stdout",
                          "task": "ca47"
                        },
                        "operator": "!contains",
                        "operand_2": {
                          "variable": "FAILURE",
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.3608116677235257,
            "y": 0.4939965694682676,
            "nodeLocation": {
              "x": 948,
              "y": 1056
            }
          },
          "cba5": {
            "name": "ViewData",
            "canvasName": "ViewData",
            "summary": "View Configuration",
            "description": "Show the proposed configuration and decision options",
            "location": "Application",
            "app": "WorkFlowEngine",
            "displayName": "WorkFlowEngine",
            "type": "manual",
            "variables": {
              "incoming": {
                "header": "View Configuration",
                "message": "See configuration to push to device below. Select \"Continue\" to push the configuration or \"End Job\" to skip pushing configuration to the device and ending the job.\n\n\n\n ",
                "body": "",
                "variables": {},
                "btn_success": "Continue",
                "btn_failure": "End Job"
              },
              "outgoing": {},
              "error": "",
              "decorators": []
            },
            "view": "/workflow_engine/task/ViewData",
            "groups": [],
            "x": 0.1636017755231452,
            "y": 0.3850771869639794,
            "scheduled": false,
            "nodeLocation": {
              "x": 324,
              "y": 948
            }
          },
          "c4c9": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Check if autoApprove",
            "description": "Run an evaluation for autoApprove",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "query": "",
                        "operand_1": {
                          "variable": "autoApprove",
                          "task": "job",
                          "editable": true
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": true,
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.16251074806534824,
            "y": 0.4946949602122016,
            "nodeLocation": {
              "x": 324,
              "y": 1056
            }
          },
          "4a43": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Build IAG Device Configuration Push Data",
            "description": "Builds inputs for pushing configuration to device over IAG",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "654104d02c883d00f315fdd1",
                "variableMap": {
                  "renderedJinja2Template": "$var.b9ed.renderedTemplate",
                  "deviceName": "$var.job.device"
                },
                "options": {
                  "extractOutput": false,
                  "validateIncoming": true,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "configurationArray": null,
                "deviceArray": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 12,
              "y": 1056
            }
          }
        },
        "transitions": {
          "workflow_start": {
            "b9ed": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "ca47": {
            "f14d": {
              "type": "standard",
              "state": "success"
            },
            "7a4c": {
              "type": "standard",
              "state": "error"
            }
          },
          "b9ed": {
            "4a43": {
              "state": "success",
              "type": "standard"
            }
          },
          "7a4c": {
            "b9ed": {
              "type": "revert",
              "state": "success"
            },
            "workflow_end": {
              "type": "standard",
              "state": "failure"
            }
          },
          "f14d": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            },
            "7a4c": {
              "type": "standard",
              "state": "failure"
            }
          },
          "cba5": {
            "ca47": {
              "type": "standard",
              "state": "success"
            },
            "workflow_end": {
              "type": "standard",
              "state": "failure"
            }
          },
          "c4c9": {
            "ca47": {
              "type": "standard",
              "state": "success"
            },
            "cba5": {
              "type": "standard",
              "state": "failure"
            }
          },
          "4a43": {
            "c4c9": {
              "state": "success",
              "type": "standard"
            }
          },
          "ed0d": {},
          "7a2f": {}
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "templateName": {
              "type": "string",
              "examples": [
                "Template name 1",
                "Template name 2",
                "Template name 3"
              ]
            },
            "templateVariables": {
              "type": "object",
              "examples": [
                {
                  "name": "John",
                  "DOB": "2000/1/1"
                }
              ]
            },
            "autoApprove": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "device": {
              "$id": "deviceName",
              "type": "string",
              "examples": [
                "deviceName"
              ]
            }
          },
          "required": [
            "templateName",
            "templateVariables",
            "autoApprove",
            "device"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "templateName": {
              "type": "string",
              "examples": [
                "Template name 1",
                "Template name 2",
                "Template name 3"
              ]
            },
            "templateVariables": {
              "type": "object",
              "examples": [
                {
                  "name": "John",
                  "DOB": "2000/1/1"
                }
              ]
            },
            "autoApprove": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "device": {
              "$id": "deviceName",
              "type": "string",
              "examples": [
                "deviceName"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            }
          }
        },
        "created": "2021-11-20T00:37:47.829Z",
        "createdVersion": "5.40.5-2021.1.28.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "font_size": 12,
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "last_updated": "2023-10-31T21:09:02.038Z",
        "preAutomationTime": 0,
        "sla": 0,
        "type": "automation",
        "canvasVersion": 1.5,
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Command Template Runner",
        "tasks": {
          "525": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Template Passed, Do Not Auto Approve",
            "description": "The template passed but is not set to auto approve",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": true,
                    "evaluations": [
                      {
                        "query": "",
                        "operand_1": {
                          "variable": "autoApprove",
                          "task": "job",
                          "editable": true
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": false,
                          "task": "static"
                        }
                      },
                      {
                        "query": "result",
                        "operand_1": {
                          "variable": "mop_template_results",
                          "task": "8ce4"
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": true,
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.353836784409257,
            "y": 0.5738188976377953,
            "nodeLocation": {
              "x": 1212,
              "y": 1104
            }
          },
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "x": -0.08670520231213873,
            "y": 0.4957983193277311,
            "nodeLocation": {
              "x": 348,
              "y": 996
            }
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "x": 0.5803897685749086,
            "y": 0.4891732283464567,
            "nodeLocation": {
              "x": 1776,
              "y": 996
            }
          },
          "8ce4": {
            "name": "RunCommandTemplate",
            "canvasName": "RunCommandTemplate",
            "summary": "Run Command Template",
            "description": "Run a Command Template against a device",
            "location": "Application",
            "locationType": null,
            "app": "MOP",
            "type": "automatic",
            "displayName": "MOP",
            "variables": {
              "incoming": {
                "template": "$var.job.templateName",
                "variables": "$var.job.templateVariables",
                "devices": "$var.927c.pushedArray"
              },
              "outgoing": {
                "mop_template_results": "$var.job.templateResults"
              },
              "error": "$var.job.templateError",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.1711092003439381,
            "y": 0.49601063829787234,
            "scheduled": false,
            "nodeLocation": {
              "x": 900,
              "y": 996
            }
          },
          "81d8": {
            "name": "viewTemplateResults",
            "canvasName": "viewTemplateResults",
            "summary": "View Command Template Results",
            "description": "View the results of the command template",
            "location": "Application",
            "app": "MOP",
            "displayName": "MOP",
            "type": "manual",
            "variables": {
              "incoming": {
                "mop_template_results": "$var.8ce4.mop_template_results"
              },
              "outgoing": {},
              "error": "",
              "decorators": []
            },
            "view": "/mop/task/viewTemplateResults",
            "groups": [],
            "x": 0.35627283800243603,
            "y": 0.6988188976377953,
            "scheduled": false,
            "nodeLocation": {
              "x": 1212,
              "y": 1212
            }
          },
          "6bd2": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Template Failed, Do Not Reattempt",
            "description": "The template did not pass, but should not be reattempted",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": true,
                    "evaluations": [
                      {
                        "query": "result",
                        "operand_1": {
                          "variable": "mop_template_results",
                          "task": "8ce4"
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": false,
                          "task": "static"
                        }
                      },
                      {
                        "query": "",
                        "operand_1": {
                          "variable": "reattempt",
                          "task": "job",
                          "editable": true
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": false,
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.16991473812423874,
            "y": 0.6958661417322834,
            "nodeLocation": {
              "x": 900,
              "y": 1104
            }
          },
          "f1a7": {
            "name": "ViewData",
            "canvasName": "ViewData",
            "summary": "Template Failure",
            "description": "Show the template failure message and decision options",
            "location": "Application",
            "app": "WorkFlowEngine",
            "displayName": "WorkFlowEngine",
            "type": "manual",
            "variables": {
              "incoming": {
                "header": "Template Failed",
                "message": "$var.job.templateName",
                "body": "The Command Template has failed. Do you want to retry or skip?",
                "variables": {},
                "btn_success": "Retry",
                "btn_failure": "Skip"
              },
              "outgoing": {},
              "error": "",
              "decorators": []
            },
            "view": "/workflow_engine/task/ViewData",
            "groups": [],
            "x": 0.48964677222898906,
            "y": 0.39960629921259844,
            "scheduled": false,
            "nodeLocation": {
              "x": 1524,
              "y": 780
            }
          },
          "543a": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Template Errored, Check Reattempt",
            "description": "The template encountered an error, check if it should be reattempted",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "query": "",
                        "operand_1": {
                          "variable": "reattempt",
                          "task": "job",
                          "editable": true
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": true,
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.3501827040194884,
            "y": 0.39960629921259844,
            "nodeLocation": {
              "x": 1212,
              "y": 888
            }
          },
          "849c": {
            "name": "reattempt",
            "canvasName": "reattempt",
            "summary": "Reattempt Template",
            "description": "Reattempt the template after waiting the specified number of minutes",
            "location": "Application",
            "locationType": null,
            "app": "MOP",
            "type": "automatic",
            "displayName": "MOP",
            "variables": {
              "incoming": {
                "job_id": "$var.job._id",
                "attemptID": "connection",
                "minutes": "$var.job.reattemptWaitTime",
                "attempts": "$var.job.reattemptQuantity"
              },
              "outgoing": {
                "response": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.3556638246041413,
            "y": 0.23917322834645668,
            "scheduled": false,
            "nodeLocation": {
              "x": 1212,
              "y": 780
            }
          },
          "f884": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Template Failed, Reattempt",
            "description": "The template did not pass, but should be reattempted",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": true,
                    "evaluations": [
                      {
                        "query": "result",
                        "operand_1": {
                          "variable": "mop_template_results",
                          "task": "8ce4"
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": false,
                          "task": "static"
                        }
                      },
                      {
                        "query": "",
                        "operand_1": {
                          "variable": "reattempt",
                          "task": "job",
                          "editable": true
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": true,
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.1705237515225335,
            "y": 0.234251968503937,
            "nodeLocation": {
              "x": 900,
              "y": 780
            }
          },
          "b1a0": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Template Passed, Auto Approve",
            "description": "The template passed and is set to auto approve",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": true,
                    "evaluations": [
                      {
                        "query": "",
                        "operand_1": {
                          "variable": "autoApprove",
                          "task": "job",
                          "editable": true
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": true,
                          "task": "static"
                        }
                      },
                      {
                        "query": "result",
                        "operand_1": {
                          "variable": "mop_template_results",
                          "task": "8ce4"
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": true,
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.34995700773860705,
            "y": 0.4867021276595745,
            "nodeLocation": {
              "x": 1212,
              "y": 996
            }
          },
          "5df9": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Check Template Result",
            "description": "Check if the template resulted in a pass or fail",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": true,
                    "evaluations": [
                      {
                        "query": "result",
                        "operand_1": {
                          "variable": "mop_template_results",
                          "task": "8ce4",
                          "editable": true
                        },
                        "operator": "==",
                        "operand_2": {
                          "variable": true,
                          "task": "static"
                        }
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": null
              }
            },
            "groups": [],
            "x": 0.49086479902557856,
            "y": 0.7047244094488189,
            "nodeLocation": {
              "x": 1524,
              "y": 1212
            }
          },
          "927c": {
            "name": "arrayPush",
            "canvasName": "push",
            "summary": "Build Device Array",
            "description": "Put the device name into an array as required by the \"RunCommandTemplate\" task",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "automatic",
            "displayName": "Array",
            "variables": {
              "incoming": {
                "arr": [],
                "elementN": "$var.job.deviceName"
              },
              "outgoing": {
                "pushedArray": null
              },
              "error": "",
              "decorators": []
            },
            "groups": [],
            "actor": "Pronghorn",
            "x": 0.02064409578860446,
            "y": 0.49459783913565425,
            "scheduled": false,
            "nodeLocation": {
              "x": 588,
              "y": 996
            }
          }
        },
        "transitions": {
          "525": {
            "81d8": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_start": {
            "927c": {
              "type": "standard",
              "state": "success"
            }
          },
          "workflow_end": {},
          "8ce4": {
            "525": {
              "type": "standard",
              "state": "success"
            },
            "543a": {
              "type": "standard",
              "state": "error"
            },
            "f884": {
              "type": "standard",
              "state": "success"
            },
            "b1a0": {
              "type": "standard",
              "state": "success"
            },
            "6bd2": {
              "type": "standard",
              "state": "success"
            }
          },
          "81d8": {
            "8ce4": {
              "type": "revert",
              "state": "failure"
            },
            "5df9": {
              "type": "standard",
              "state": "success"
            }
          },
          "6bd2": {
            "81d8": {
              "type": "standard",
              "state": "success"
            }
          },
          "f1a7": {
            "workflow_end": {
              "type": "standard",
              "state": "failure"
            },
            "8ce4": {
              "type": "revert",
              "state": "success"
            }
          },
          "543a": {
            "849c": {
              "type": "standard",
              "state": "success"
            },
            "f1a7": {
              "type": "standard",
              "state": "failure"
            }
          },
          "849c": {
            "8ce4": {
              "type": "revert",
              "state": "success"
            },
            "f1a7": {
              "type": "standard",
              "state": "error"
            }
          },
          "f884": {
            "849c": {
              "type": "standard",
              "state": "success"
            }
          },
          "b1a0": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            }
          },
          "5df9": {
            "workflow_end": {
              "type": "standard",
              "state": "success"
            },
            "f1a7": {
              "type": "standard",
              "state": "failure"
            }
          },
          "927c": {
            "8ce4": {
              "type": "standard",
              "state": "success"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "autoApprove": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "templateName": {
              "title": "template",
              "type": "string",
              "examples": [
                "show version"
              ]
            },
            "templateVariables": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "reattempt": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "_id": {
              "title": "job_id",
              "type": "string",
              "examples": [
                "test"
              ]
            },
            "reattemptWaitTime": {
              "title": "minutes",
              "type": "integer",
              "examples": [
                1
              ]
            },
            "reattemptQuantity": {
              "title": "attempts",
              "type": "integer",
              "examples": [
                2
              ]
            },
            "deviceName": {
              "type": [
                "array",
                "string",
                "boolean",
                "integer",
                "number",
                "object"
              ],
              "title": "elementN",
              "examples": [
                "Device3"
              ]
            }
          },
          "required": [
            "autoApprove",
            "templateName",
            "templateVariables",
            "reattempt",
            "_id",
            "reattemptWaitTime",
            "reattemptQuantity",
            "deviceName"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "autoApprove": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "templateName": {
              "title": "template",
              "type": "string",
              "examples": [
                "show version"
              ]
            },
            "templateVariables": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "reattempt": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "reattemptWaitTime": {
              "title": "minutes",
              "type": "integer",
              "examples": [
                1
              ]
            },
            "reattemptQuantity": {
              "title": "attempts",
              "type": "integer",
              "examples": [
                2
              ]
            },
            "deviceName": {
              "type": [
                "array",
                "string",
                "boolean",
                "integer",
                "number",
                "object"
              ],
              "title": "elementN",
              "examples": [
                "Device3"
              ]
            },
            "initiator": {
              "type": "string"
            },
            "templateResults": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "templateError": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            }
          }
        },
        "created": "2021-11-19T22:24:44.051Z",
        "createdVersion": "5.40.5-2021.1.28.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "font_size": 12,
        "lastUpdatedVersion": "4.15.0-2023.1.123.0",
        "last_updated": "2023-10-31T21:09:02.041Z",
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "preAutomationTime": 0,
        "sla": 0,
        "type": "automation",
        "canvasVersion": 1.5,
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Create Device - Kentik - REST",
        "tasks": {
          "3598": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Created Kentik Device",
            "description": "Query device created in Kentik",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "response.device",
                "obj": "$var.07a6.result"
              },
              "outgoing": {
                "return_data": "$var.job.device"
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 396,
              "y": -468
            }
          },
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "nodeLocation": {
              "x": -792,
              "y": -468
            },
            "x": 0,
            "y": 0.5
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "nodeLocation": {
              "x": 636,
              "y": -468
            },
            "x": 1,
            "y": 0.5
          },
          "07a6": {
            "name": "createDevice",
            "canvasName": "createDevice",
            "summary": "Create Device - Kentik",
            "description": "Creates device in Kentik",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "body": "$var.6a97.devicePayload",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": null
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 84,
              "y": -468
            }
          },
          "89a2": {
            "name": "findSites",
            "canvasName": "findSites",
            "summary": "Get Kentik Sites",
            "description": "Gets list of Kentik sites",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -552,
              "y": -468
            }
          },
          "6a97": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Build Create Device Data - Kentik",
            "description": "Builds inputs to create device in Kentik",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "64f3937db3e59e00cc64337a",
                "variableMap": {
                  "name": "$var.job.name",
                  "type": "$var.job.type",
                  "description": "$var.job.description",
                  "planId": "$var.job.planId",
                  "sampleRate": "$var.job.sampleRate",
                  "sendingIPs": "$var.job.sendingIPs",
                  "snmpIP": "$var.job.snmpIP",
                  "snmpCommunity": "$var.job.snmpCommunity",
                  "snmpConfUsername": "$var.job.snmpConfUsername",
                  "snmpConfAuthenticationProtocol": "$var.job.snmpConfAuthenticationProtocol",
                  "snmpConfAuthenticationPassphrase": "$var.job.snmpConfAuthenticationPassphrase",
                  "snmpPrivacyProtocol": "$var.job.snmpPrivacyProtocol",
                  "snmpPrivacyPassphrase": "$var.job.snmpPrivacyPassphrase",
                  "bgpType": "$var.job.bgpType",
                  "bgpNeighborIP": "$var.job.bgpNeighborIP",
                  "bgpNeighborIP6": "$var.job.bgpNeighborIP6",
                  "bgpNeighborASN": "$var.job.bgpNeighborASN",
                  "bgpNeighborPassword": "$var.job.bgpNeighborPassword",
                  "siteInfo": "$var.89a2.result",
                  "siteName": "$var.job.siteName"
                },
                "options": {
                  "extractOutput": true,
                  "validateIncoming": false,
                  "revertToDefaultValue": true
                }
              },
              "outgoing": {
                "devicePayload": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": -240,
              "y": -468
            }
          }
        },
        "transitions": {
          "3598": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_start": {
            "89a2": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_end": {},
          "07a6": {
            "3598": {
              "state": "success",
              "type": "standard"
            }
          },
          "89a2": {
            "6a97": {
              "state": "success",
              "type": "standard"
            }
          },
          "6a97": {
            "07a6": {
              "state": "success",
              "type": "standard"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "name": {
              "$id": "name",
              "type": "string",
              "examples": [
                "test-device"
              ]
            },
            "type": {
              "$id": "type",
              "type": "string",
              "examples": [
                "router"
              ]
            },
            "description": {
              "$id": "description",
              "type": "string",
              "examples": [
                "my device"
              ]
            },
            "planId": {
              "$id": "planId",
              "type": "integer",
              "examples": [
                44662
              ]
            },
            "sampleRate": {
              "$id": "sampleRate",
              "type": "integer",
              "examples": [
                1
              ]
            },
            "sendingIPs": {
              "$id": "sendingIPs",
              "type": "array",
              "items": {
                "type": "string",
                "examples": [
                  "192.168.178.1"
                ]
              }
            },
            "snmpIP": {
              "$id": "snmpIP",
              "type": "string",
              "examples": [
                "192.168.178.1"
              ]
            },
            "snmpCommunity": {
              "$id": "snmpCommunity",
              "type": "string",
              "examples": [
                "kentikSNMP"
              ]
            },
            "snmpConfUsername": {
              "$id": "snmpConfUsername",
              "type": "string",
              "examples": [
                "kentik"
              ]
            },
            "snmpConfAuthenticationProtocol": {
              "$id": "snmpConfAuthenticationProtocol",
              "type": "string",
              "examples": [
                "SHA"
              ]
            },
            "snmpConfAuthenticationPassphrase": {
              "$id": "snmpConfAuthenticationPassphrase",
              "type": "string",
              "examples": [
                "Pass"
              ]
            },
            "snmpPrivacyProtocol": {
              "$id": "snmpPrivacyProtocol",
              "type": "string",
              "examples": [
                "AES"
              ]
            },
            "snmpPrivacyPassphrase": {
              "$id": "snmpPrivacyPassphrase",
              "type": "string",
              "examples": [
                "AESPassword"
              ]
            },
            "bgpType": {
              "$id": "bgpType",
              "type": "string",
              "examples": [
                "device"
              ]
            },
            "bgpNeighborIP": {
              "$id": "bgpNeighborIP",
              "type": "string",
              "examples": [
                "209.1.1.1"
              ]
            },
            "bgpNeighborIP6": {
              "$id": "bgpNeighborIP6",
              "type": "string",
              "examples": [
                "ff44::ffff"
              ]
            },
            "bgpNeighborASN": {
              "$id": "bgpNeighborASN",
              "type": "string",
              "examples": [
                "1"
              ]
            },
            "bgpNeighborPassword": {
              "$id": "bgpNeighborPassword",
              "type": "string",
              "examples": [
                "pass"
              ]
            },
            "siteName": {
              "$id": "siteName",
              "type": "string",
              "examples": [
                "mySite"
              ]
            }
          },
          "required": [
            "adapterId",
            "name",
            "type",
            "description",
            "planId",
            "sampleRate",
            "sendingIPs",
            "snmpIP",
            "snmpCommunity",
            "snmpConfUsername",
            "snmpConfAuthenticationProtocol",
            "snmpConfAuthenticationPassphrase",
            "snmpPrivacyProtocol",
            "snmpPrivacyPassphrase",
            "bgpType",
            "bgpNeighborIP",
            "bgpNeighborIP6",
            "bgpNeighborASN",
            "bgpNeighborPassword",
            "siteName"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "name": {
              "$id": "name",
              "type": "string",
              "examples": [
                "test-device"
              ]
            },
            "type": {
              "$id": "type",
              "type": "string",
              "examples": [
                "router"
              ]
            },
            "description": {
              "$id": "description",
              "type": "string",
              "examples": [
                "my device"
              ]
            },
            "planId": {
              "$id": "planId",
              "type": "integer",
              "examples": [
                44662
              ]
            },
            "sampleRate": {
              "$id": "sampleRate",
              "type": "integer",
              "examples": [
                1
              ]
            },
            "sendingIPs": {
              "$id": "sendingIPs",
              "type": "array",
              "items": {
                "type": "string",
                "examples": [
                  "192.168.178.1"
                ]
              }
            },
            "snmpIP": {
              "$id": "snmpIP",
              "type": "string",
              "examples": [
                "192.168.178.1"
              ]
            },
            "snmpCommunity": {
              "$id": "snmpCommunity",
              "type": "string",
              "examples": [
                "kentikSNMP"
              ]
            },
            "snmpConfUsername": {
              "$id": "snmpConfUsername",
              "type": "string",
              "examples": [
                "kentik"
              ]
            },
            "snmpConfAuthenticationProtocol": {
              "$id": "snmpConfAuthenticationProtocol",
              "type": "string",
              "examples": [
                "SHA"
              ]
            },
            "snmpConfAuthenticationPassphrase": {
              "$id": "snmpConfAuthenticationPassphrase",
              "type": "string",
              "examples": [
                "Pass"
              ]
            },
            "snmpPrivacyProtocol": {
              "$id": "snmpPrivacyProtocol",
              "type": "string",
              "examples": [
                "AES"
              ]
            },
            "snmpPrivacyPassphrase": {
              "$id": "snmpPrivacyPassphrase",
              "type": "string",
              "examples": [
                "AESPassword"
              ]
            },
            "bgpType": {
              "$id": "bgpType",
              "type": "string",
              "examples": [
                "device"
              ]
            },
            "bgpNeighborIP": {
              "$id": "bgpNeighborIP",
              "type": "string",
              "examples": [
                "209.1.1.1"
              ]
            },
            "bgpNeighborIP6": {
              "$id": "bgpNeighborIP6",
              "type": "string",
              "examples": [
                "ff44::ffff"
              ]
            },
            "bgpNeighborASN": {
              "$id": "bgpNeighborASN",
              "type": "string",
              "examples": [
                "1"
              ]
            },
            "bgpNeighborPassword": {
              "$id": "bgpNeighborPassword",
              "type": "string",
              "examples": [
                "pass"
              ]
            },
            "siteName": {
              "$id": "siteName",
              "type": "string",
              "examples": [
                "mySite"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            },
            "device": {
              "title": "return_data",
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "number"
                },
                {
                  "type": "object"
                },
                {
                  "type": "array"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "examples": [
                "value"
              ]
            }
          }
        },
        "type": "automation",
        "font_size": 12,
        "errorHandler": null,
        "preAutomationTime": 0,
        "sla": 0,
        "outputData": {},
        "lastUpdatedVersion": "5.46.0-2023.1.19.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "createdVersion": "5.46.0-2023.1.14.0",
        "last_updated": "2023-11-02T20:18:32.488Z",
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "created": "2023-09-02T20:18:00.957Z",
        "canvasVersion": 3,
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "workflow",
      "data": {
        "name": "Device Flow Test - Kentik - REST",
        "tasks": {
          "workflow_start": {
            "name": "workflow_start",
            "groups": [],
            "nodeLocation": {
              "x": 1560,
              "y": -96
            },
            "x": 0,
            "y": 0.5
          },
          "workflow_end": {
            "name": "workflow_end",
            "groups": [],
            "nodeLocation": {
              "x": 4284,
              "y": -96
            },
            "x": 1,
            "y": 0.5
          },
          "efe2": {
            "name": "genericAdapterRequestNoBasePath",
            "canvasName": "genericAdapterRequestNoBasePath",
            "summary": "Get Flow Summary",
            "description": "Gets flow summary in Kentik",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "uriPath": "/api/ui/devices/non-cloud-status",
                "restMethod": "GET",
                "queryData": "",
                "requestBody": "",
                "addlHeaders": "",
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 2436,
              "y": -96
            }
          },
          "c4ab": {
            "name": "evaluation",
            "canvasName": "evaluation",
            "summary": "Eval Time Diff",
            "description": "Run an evaluation",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "all_true_flag": false,
                "evaluation_groups": [
                  {
                    "all_true_flag": false,
                    "evaluations": [
                      {
                        "operand_1": {
                          "task": "6f53",
                          "variable": "timeDiff"
                        },
                        "operand_2": {
                          "task": "static",
                          "variable": 0
                        },
                        "operator": ">=",
                        "query": "milliseconds",
                        "rightQuery": ""
                      }
                    ]
                  }
                ]
              },
              "outgoing": {
                "return_value": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 3720,
              "y": -96
            }
          },
          "f120": {
            "name": "query",
            "canvasName": "query",
            "summary": "Query Flow Summary",
            "description": "Query flow summary to find data for device",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "pass_on_null": false,
                "query": "$var.f1f0.deviceFilter",
                "obj": "$var.efe2.result"
              },
              "outgoing": {
                "return_data": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 2748,
              "y": -96
            }
          },
          "6f53": {
            "name": "calculateTimeDiff",
            "canvasName": "calculateTimeDiff",
            "summary": "Calculate time difference",
            "description": "Subtracts the difference between two given times and returns the result between them as a duration.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "automatic",
            "displayName": "Time",
            "variables": {
              "incoming": {
                "firstTime": "$var.35e4.merged_object",
                "secondTime": "$var.job.startTime"
              },
              "outgoing": {
                "timeDiff": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 3396,
              "y": -96
            }
          },
          "35e4": {
            "name": "merge",
            "canvasName": "merge",
            "summary": "Merge Data",
            "description": "Merge data into a single object",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "data_to_merge": [
                  {
                    "key": "time",
                    "value": {
                      "task": "f120",
                      "variable": "return_data"
                    }
                  },
                  {
                    "key": "formatString",
                    "value": {
                      "task": "static",
                      "variable": "YYYY-MM-DDTHH:mm:ss.SSSZ"
                    }
                  }
                ]
              },
              "outgoing": {
                "merged_object": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 3060,
              "y": -96
            }
          },
          "926b": {
            "name": "makeData",
            "canvasName": "makeData",
            "summary": "Test Result",
            "description": "This task takes an input and converts it to a different data type. For example, converting a number into a string.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "automatic",
            "displayName": "Tools",
            "variables": {
              "incoming": {
                "input": "pass",
                "outputType": "string",
                "variables": ""
              },
              "outgoing": {
                "output": "$var.job.testResult"
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 4032,
              "y": -192
            }
          },
          "93a8": {
            "name": "makeData",
            "canvasName": "makeData",
            "summary": "Test Result",
            "description": "This task takes an input and converts it to a different data type. For example, converting a number into a string.",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "automatic",
            "displayName": "Tools",
            "variables": {
              "incoming": {
                "input": "fail",
                "outputType": "string",
                "variables": ""
              },
              "outgoing": {
                "output": "$var.job.testResult"
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 4032,
              "y": 0
            }
          },
          "2aa1": {
            "name": "findDevices",
            "canvasName": "findDevices",
            "summary": "Get Kentik Devices",
            "description": "Gets all Kentik devices",
            "location": "Adapter",
            "locationType": "KentikV5",
            "app": "KentikV5",
            "type": "automatic",
            "displayName": "Kentik v5",
            "variables": {
              "incoming": {
                "adapter_id": "$var.job.adapterId"
              },
              "outgoing": {
                "result": ""
              }
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 1812,
              "y": -96
            }
          },
          "f1f0": {
            "name": "transformation",
            "canvasName": "transformation",
            "summary": "Find Kentik Device by Name",
            "description": "Find Kentik device by name",
            "location": "Application",
            "locationType": null,
            "app": "WorkFlowEngine",
            "type": "operation",
            "displayName": "WorkFlowEngine",
            "variables": {
              "incoming": {
                "tr_id": "6544148b2c883d00f315fdd3",
                "variableMap": {
                  "kentikDevices": "$var.2aa1.result",
                  "deviceName": "$var.job.deviceName"
                },
                "options": {
                  "extractOutput": true
                }
              },
              "outgoing": {
                "deviceFilter": null
              },
              "decorators": []
            },
            "actor": "Pronghorn",
            "groups": [],
            "nodeLocation": {
              "x": 2124,
              "y": -96
            }
          }
        },
        "transitions": {
          "workflow_start": {
            "2aa1": {
              "state": "success",
              "type": "standard"
            }
          },
          "workflow_end": {},
          "efe2": {
            "f120": {
              "state": "success",
              "type": "standard"
            }
          },
          "c4ab": {
            "926b": {
              "state": "success",
              "type": "standard"
            },
            "93a8": {
              "type": "standard",
              "state": "failure"
            }
          },
          "f120": {
            "35e4": {
              "state": "success",
              "type": "standard"
            }
          },
          "6f53": {
            "c4ab": {
              "state": "success",
              "type": "standard"
            }
          },
          "35e4": {
            "6f53": {
              "state": "success",
              "type": "standard"
            }
          },
          "926b": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "93a8": {
            "workflow_end": {
              "state": "success",
              "type": "standard"
            }
          },
          "2aa1": {
            "f1f0": {
              "state": "success",
              "type": "standard"
            }
          },
          "f1f0": {
            "efe2": {
              "state": "success",
              "type": "standard"
            }
          }
        },
        "inputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "startTime": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "deviceName": {
              "$id": "deviceName",
              "type": "string",
              "examples": [
                "deviceName"
              ]
            }
          },
          "required": [
            "adapterId",
            "startTime",
            "deviceName"
          ]
        },
        "outputSchema": {
          "type": "object",
          "properties": {
            "adapterId": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "startTime": {
              "type": [
                "array",
                "boolean",
                "null",
                "number",
                "object",
                "string"
              ]
            },
            "deviceName": {
              "$id": "deviceName",
              "type": "string",
              "examples": [
                "deviceName"
              ]
            },
            "_id": {
              "type": "string",
              "pattern": "^[0-9a-f]{24}$"
            },
            "initiator": {
              "type": "string"
            },
            "testResult": {
              "title": "output",
              "type": [
                "array",
                "string",
                "boolean",
                "number",
                "object"
              ]
            }
          }
        },
        "type": "automation",
        "font_size": 12,
        "errorHandler": null,
        "preAutomationTime": 0,
        "sla": 0,
        "outputData": {},
        "lastUpdatedVersion": "5.46.0-2023.1.19.0",
        "created_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "createdVersion": "5.46.0-2023.1.19.0",
        "canvasVersion": 3,
        "last_updated": "2023-11-03T14:12:27.771Z",
        "last_updated_by": {
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com",
          "firstname": "Chris",
          "inactive": false
        },
        "created": "2023-11-03T14:04:27.662Z",
        "tags": [],
        "groups": [],
        "migrationVersion": 2
      }
    },
    {
      "type": "json-forms",
      "data": {
        "id": "650deb7bc3bb0900c56fcf48",
        "created": "2023-09-22T19:31:07.384Z",
        "createdBy": "chris.calloway@itential.com",
        "lastUpdated": "2023-10-31T21:09:02.227Z",
        "lastUpdatedBy": "chris.calloway@itential.com",
        "name": "Device Onboarding - Kentik - Example",
        "description": "",
        "struct": {
          "type": "array",
          "items": [
            {
              "nodeId": "c10b70ba-7714-41ce-8dc1-8918c67de15d",
              "type": "string",
              "title": "Device",
              "description": "Select a Cisco IOS device to onboard to Kentik",
              "placeholder": "Select a Cisco IOS device to onboard to Kentik",
              "required": true,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "customKey": "deviceName",
              "readOnly": false,
              "method": "POST",
              "uniqueItems": false,
              "base": "/configuration_manager",
              "originalHref": "/devices/ ",
              "href": "/devices/ ",
              "body": {
                "options": {
                  "filter": {
                    "name": "",
                    "ostype": "cisco-ios"
                  },
                  "start": 0,
                  "limit": 10000,
                  "sort": [
                    {
                      "name": 1
                    }
                  ],
                  "order": "ascending"
                }
              },
              "sourcePointer": "/list",
              "sourceKeyPointer": "/name",
              "labelKeyPointer": "",
              "helper": "Select a Cisco IOS device to onboard to Kentik"
            },
            {
              "nodeId": "279d1a52-86d3-41b0-b157-52a2fc885381",
              "type": "string",
              "title": "IAP URL",
              "description": "IAP URL to use for hyperlink in ServiceNow and MS Teams to job for onboarding device",
              "placeholder": "Enter IAP URL for ServiceNow hyperlink",
              "required": true,
              "readOnly": false,
              "binding": false,
              "rel": "item",
              "targetPointer": "/default",
              "customKey": false,
              "disabled": false,
              "readonly": false,
              "helper": "IAP URL to use for hyperlink in ServiceNow and MS Teams to job for onboarding device. For example, https://iap_01:3443",
              "default": "",
              "href": null,
              "base": null,
              "sourceKeyPointer": null,
              "sourcePointer": null,
              "method": null,
              "transformation": null
            },
            {
              "nodeId": "cd8b5983-b2e5-4b0a-b3e1-1b33ca85175b",
              "type": "string",
              "title": "ServiceNow URL",
              "description": "",
              "placeholder": "Enter ServiceNow URL for MS Teams notification message",
              "required": true,
              "readOnly": false,
              "binding": false,
              "rel": "item",
              "targetPointer": "/default",
              "helper": "ServiceNow URL for MS Teams notification message. For example, https://servicenow_dev.com"
            },
            {
              "nodeId": "fb4ee7a3-5ace-41a9-a06a-da47eee459af",
              "type": "string",
              "title": "ServiceNow Adapter",
              "description": "Select ServiceNow adapter to use for job",
              "placeholder": "Select ServiceNow adapter to use for job",
              "required": true,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "method": "GET",
              "uniqueItems": false,
              "base": "/adapters",
              "href": "/ ",
              "originalHref": "/:name",
              "sourcePointer": "/results",
              "sourceKeyPointer": "/data/name",
              "variables": [],
              "customKey": false,
              "helper": "Select ServiceNow adapter to use for job"
            },
            {
              "nodeId": "4f9e321a-a775-400e-8376-8ed20bc8470e",
              "type": "string",
              "title": "NetBox Adapter",
              "description": "Select NetBox adapter to use for job",
              "placeholder": "Select NetBox adapter to use for job",
              "required": true,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "helper": "Select NetBox adapter to use for job",
              "method": "GET",
              "uniqueItems": false,
              "base": "/adapters",
              "originalHref": "/:name",
              "href": "/ ",
              "sourcePointer": "/results",
              "sourceKeyPointer": "/data/name"
            },
            {
              "nodeId": "29e494c4-40c1-4039-977f-3559e0544290",
              "type": "string",
              "title": "MS Teams Adapter",
              "description": "Select MS Teams adapter to use for job",
              "placeholder": "Select MS Teams adapter to use for job",
              "required": true,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "helper": "Select MS Teams adapter to use for job",
              "method": "GET",
              "uniqueItems": false,
              "base": "/adapters",
              "originalHref": "/:name",
              "href": "/ ",
              "sourcePointer": "/results",
              "sourceKeyPointer": "/data/name"
            },
            {
              "nodeId": "d4953942-223b-4025-92f0-4b004b78ecd5",
              "type": "string",
              "title": "Kentik Adapter",
              "description": "Select Kentik adapter to use for job",
              "placeholder": "Select Kentik adapter to use for job",
              "required": true,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "helper": "Select Kentik adapter to use for job",
              "method": "GET",
              "uniqueItems": false,
              "base": "/adapters",
              "originalHref": "/:name",
              "href": "/ ",
              "sourcePointer": "/results",
              "sourceKeyPointer": "/data/name"
            },
            {
              "nodeId": "1c252b04-f1fb-482e-8890-81f488c03727",
              "type": "string",
              "title": "Device Onboarding Webhook URL",
              "description": "",
              "placeholder": "Enter MS Teams Incoming Webhook URL for Device Onboarding channel",
              "required": true,
              "readOnly": false,
              "binding": false,
              "rel": "item",
              "targetPointer": "/default",
              "default": "",
              "helper": "MS Teams Incoming Webhook URL for Device Onboarding channel. See https://learn.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook?tabs=dotnet#create-incoming-webhooks-1 for more information about creating Incoming Webhooks in MS Teams",
              "disabled": false,
              "readonly": false,
              "href": null,
              "base": null,
              "sourceKeyPointer": null,
              "sourcePointer": null,
              "method": null,
              "transformation": null
            }
          ]
        },
        "schema": {
          "title": "Device Onboarding - Kentik - Example",
          "description": "",
          "type": "object",
          "required": [
            "deviceName",
            "iapUrl",
            "serviceNowUrl",
            "serviceNowAdapter",
            "netBoxAdapter",
            "msTeamsAdapter",
            "kentikAdapter",
            "deviceOnboardingWebhookUrl"
          ],
          "properties": {
            "deviceName": {
              "type": "string",
              "title": "Device",
              "_id": "/properties/deviceName",
              "description": "Select a Cisco IOS device to onboard to Kentik",
              "enum": [],
              "enumNames": []
            },
            "iapUrl": {
              "type": "string",
              "title": "IAP URL",
              "_id": "/properties/iapUrl",
              "description": "IAP URL to use for hyperlink in ServiceNow and MS Teams to job for onboarding device",
              "default": ""
            },
            "serviceNowUrl": {
              "type": "string",
              "title": "ServiceNow URL",
              "_id": "/properties/serviceNowUrl",
              "description": ""
            },
            "serviceNowAdapter": {
              "type": "string",
              "title": "ServiceNow Adapter",
              "_id": "/properties/serviceNowAdapter",
              "description": "Select ServiceNow adapter to use for job",
              "enum": [],
              "enumNames": []
            },
            "netBoxAdapter": {
              "type": "string",
              "title": "NetBox Adapter",
              "_id": "/properties/netBoxAdapter",
              "description": "Select NetBox adapter to use for job",
              "enum": [],
              "enumNames": []
            },
            "msTeamsAdapter": {
              "type": "string",
              "title": "MS Teams Adapter",
              "_id": "/properties/msTeamsAdapter",
              "description": "Select MS Teams adapter to use for job",
              "enum": [],
              "enumNames": []
            },
            "kentikAdapter": {
              "type": "string",
              "title": "Kentik Adapter",
              "_id": "/properties/kentikAdapter",
              "description": "Select Kentik adapter to use for job",
              "enum": [],
              "enumNames": []
            },
            "deviceOnboardingWebhookUrl": {
              "type": "string",
              "title": "Device Onboarding Webhook URL",
              "_id": "/properties/deviceOnboardingWebhookUrl",
              "description": "",
              "default": ""
            }
          }
        },
        "uiSchema": {
          "deviceName": {
            "ui:placeholder": "Select a Cisco IOS device to onboard to Kentik",
            "ui:help": "Select a Cisco IOS device to onboard to Kentik"
          },
          "iapUrl": {
            "ui:placeholder": "Enter IAP URL for ServiceNow hyperlink",
            "ui:help": "IAP URL to use for hyperlink in ServiceNow and MS Teams to job for onboarding device. For example, https://iap_01:3443"
          },
          "serviceNowUrl": {
            "ui:placeholder": "Enter ServiceNow URL for MS Teams notification message",
            "ui:help": "ServiceNow URL for MS Teams notification message. For example, https://servicenow_dev.com"
          },
          "serviceNowAdapter": {
            "ui:placeholder": "Select ServiceNow adapter to use for job",
            "ui:help": "Select ServiceNow adapter to use for job"
          },
          "netBoxAdapter": {
            "ui:placeholder": "Select NetBox adapter to use for job",
            "ui:help": "Select NetBox adapter to use for job"
          },
          "msTeamsAdapter": {
            "ui:placeholder": "Select MS Teams adapter to use for job",
            "ui:help": "Select MS Teams adapter to use for job"
          },
          "kentikAdapter": {
            "ui:placeholder": "Select Kentik adapter to use for job",
            "ui:help": "Select Kentik adapter to use for job"
          },
          "deviceOnboardingWebhookUrl": {
            "ui:placeholder": "Enter MS Teams Incoming Webhook URL for Device Onboarding channel",
            "ui:help": "MS Teams Incoming Webhook URL for Device Onboarding channel. See https://learn.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook?tabs=dotnet#create-incoming-webhooks-1 for more information about creating Incoming Webhooks in MS Teams"
          }
        },
        "bindingSchema": {
          "properties": {
            "deviceName": {
              "binding:method": "POST",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:body": {
                "options": {
                  "filter": {
                    "name": "",
                    "ostype": "cisco-ios"
                  },
                  "start": 0,
                  "limit": 10000,
                  "sort": [
                    {
                      "name": 1
                    }
                  ],
                  "order": "ascending"
                }
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/configuration_manager",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/devices/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/list",
                "keyPointer": "/name"
              }
            },
            "serviceNowAdapter": {
              "binding:method": "GET",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/adapters",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/results",
                "keyPointer": "/data/name"
              }
            },
            "netBoxAdapter": {
              "binding:method": "GET",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/adapters",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/results",
                "keyPointer": "/data/name"
              }
            },
            "msTeamsAdapter": {
              "binding:method": "GET",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/adapters",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/results",
                "keyPointer": "/data/name"
              }
            },
            "kentikAdapter": {
              "binding:method": "GET",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/adapters",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/results",
                "keyPointer": "/data/name"
              }
            }
          }
        },
        "validationSchema": {},
        "version": "2020.1"
      }
    },
    {
      "type": "json-forms",
      "data": {
        "id": "653feae116329e00e57b12eb",
        "created": "2023-10-30T17:41:53.008Z",
        "createdBy": "chris.calloway@itential.com",
        "lastUpdated": "2023-10-31T21:09:02.228Z",
        "lastUpdatedBy": "chris.calloway@itential.com",
        "name": "Device Onboarding Reset - Kentik - Example",
        "description": "",
        "struct": {
          "type": "array",
          "items": [
            {
              "nodeId": "c10b70ba-7714-41ce-8dc1-8918c67de15d",
              "type": "string",
              "title": "Device",
              "description": "Select a Cisco IOS device to onboard to Kentik",
              "placeholder": "Select a Cisco IOS device to onboard to Kentik",
              "required": true,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "customKey": "deviceName",
              "readOnly": false,
              "method": "POST",
              "uniqueItems": false,
              "base": "/configuration_manager",
              "originalHref": "/devices/ ",
              "href": "/devices/ ",
              "body": {
                "options": {
                  "filter": {
                    "name": "",
                    "ostype": "cisco-ios"
                  },
                  "start": 0,
                  "limit": 10000,
                  "sort": [
                    {
                      "name": 1
                    }
                  ],
                  "order": "ascending"
                }
              },
              "sourcePointer": "/list",
              "sourceKeyPointer": "/name",
              "labelKeyPointer": "",
              "helper": "Select a Cisco IOS device to onboard to Kentik"
            },
            {
              "nodeId": "d4953942-223b-4025-92f0-4b004b78ecd5",
              "type": "string",
              "title": "Kentik Adapter",
              "description": "Select Kentik adapter to use for job",
              "placeholder": "Select Kentik adapter to use for job",
              "required": true,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "helper": "Select Kentik adapter to use for job",
              "method": "GET",
              "uniqueItems": false,
              "base": "/adapters",
              "originalHref": "/:name",
              "href": "/ ",
              "sourcePointer": "/results",
              "sourceKeyPointer": "/data/name"
            }
          ]
        },
        "schema": {
          "title": "Device Onboarding Reset - Kentik - Example",
          "description": "",
          "type": "object",
          "required": [
            "deviceName",
            "kentikAdapter"
          ],
          "properties": {
            "deviceName": {
              "type": "string",
              "title": "Device",
              "_id": "/properties/deviceName",
              "description": "Select a Cisco IOS device to onboard to Kentik",
              "enum": [],
              "enumNames": []
            },
            "kentikAdapter": {
              "type": "string",
              "title": "Kentik Adapter",
              "_id": "/properties/kentikAdapter",
              "description": "Select Kentik adapter to use for job",
              "enum": [],
              "enumNames": []
            }
          }
        },
        "uiSchema": {
          "deviceName": {
            "ui:placeholder": "Select a Cisco IOS device to onboard to Kentik",
            "ui:help": "Select a Cisco IOS device to onboard to Kentik"
          },
          "kentikAdapter": {
            "ui:placeholder": "Select Kentik adapter to use for job",
            "ui:help": "Select Kentik adapter to use for job"
          }
        },
        "bindingSchema": {
          "properties": {
            "deviceName": {
              "binding:method": "POST",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:body": {
                "options": {
                  "filter": {
                    "name": "",
                    "ostype": "cisco-ios"
                  },
                  "start": 0,
                  "limit": 10000,
                  "sort": [
                    {
                      "name": 1
                    }
                  ],
                  "order": "ascending"
                }
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/configuration_manager",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/devices/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/list",
                "keyPointer": "/name"
              }
            },
            "kentikAdapter": {
              "binding:method": "GET",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/adapters",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/results",
                "keyPointer": "/data/name"
              }
            }
          }
        },
        "validationSchema": {},
        "version": "2020.1"
      }
    },
    {
      "type": "json-forms",
      "data": {
        "id": "649e07e65874d100a9c27745",
        "created": "2023-06-29T22:38:30.293Z",
        "createdBy": "chris.calloway@itential.com",
        "lastUpdated": "2023-10-31T21:09:02.226Z",
        "lastUpdatedBy": "chris.calloway@itential.com",
        "name": "AWS Blocked Traffic Event - Reset - Kentik Example",
        "description": "",
        "struct": {
          "type": "array",
          "items": [
            {
              "nodeId": "3a57efed-da4d-4a5b-bcc6-a3f39fd10f07",
              "type": "string",
              "title": "Source IP",
              "description": "",
              "placeholder": "Enter source IP",
              "required": false,
              "readOnly": false,
              "binding": false,
              "rel": "item",
              "targetPointer": "/default",
              "customKey": "sourceIP",
              "format": "ipv4"
            },
            {
              "nodeId": "4b3a56ed-88d7-44b6-9f25-bbeb497fbe55",
              "type": "string",
              "title": "AWS EC2 Adapter",
              "description": "Adapter to use to connect to AWS",
              "placeholder": "Select adapter to use to connect to AWS",
              "required": false,
              "enum": [],
              "enumNames": [],
              "binding": true,
              "rel": "collection",
              "targetPointer": "/enum",
              "customKey": "awsEC2Adapter",
              "helper": "Adapter to use to connect to AWS",
              "method": "GET",
              "uniqueItems": false,
              "base": "/adapters",
              "originalHref": "/:name",
              "href": "/ ",
              "sourcePointer": "/results",
              "sourceKeyPointer": "/data/name"
            },
            {
              "nodeId": "51211815-79e0-45e5-81a2-be07211bfcfd",
              "type": "string",
              "title": "AWS Security Group",
              "description": "AWS security group to update to remove allowed source IP",
              "placeholder": "Enter AWS security group to update",
              "required": false,
              "readOnly": false,
              "binding": false,
              "rel": "item",
              "targetPointer": "/default",
              "customKey": "awsSecurityGroup",
              "helper": "AWS security group to update to remove allowed source IP"
            }
          ]
        },
        "schema": {
          "title": "AWS Blocked Traffic Event - Reset - Kentik Example",
          "description": "",
          "type": "object",
          "required": [],
          "properties": {
            "sourceIP": {
              "type": "string",
              "title": "Source IP",
              "_id": "/properties/sourceIP",
              "description": "",
              "format": "ipv4"
            },
            "awsEC2Adapter": {
              "type": "string",
              "title": "AWS EC2 Adapter",
              "_id": "/properties/awsEC2Adapter",
              "description": "Adapter to use to connect to AWS",
              "enum": [],
              "enumNames": []
            },
            "awsSecurityGroup": {
              "type": "string",
              "title": "AWS Security Group",
              "_id": "/properties/awsSecurityGroup",
              "description": "AWS security group to update to remove allowed source IP"
            }
          }
        },
        "uiSchema": {
          "sourceIP": {
            "ui:placeholder": "Enter source IP"
          },
          "awsEC2Adapter": {
            "ui:placeholder": "Select adapter to use to connect to AWS",
            "ui:help": "Adapter to use to connect to AWS"
          },
          "awsSecurityGroup": {
            "ui:placeholder": "Enter AWS security group to update",
            "ui:help": "AWS security group to update to remove allowed source IP"
          }
        },
        "bindingSchema": {
          "properties": {
            "awsEC2Adapter": {
              "binding:method": "GET",
              "binding:link": {
                "$ref": "/links",
                "rel": "collection"
              },
              "binding:target": {
                "propertyPointer": "/enum"
              },
              "binding:hyperSchema": {
                "type": "object",
                "base": "/adapters",
                "links": [
                  {
                    "rel": "collection",
                    "href": "/ ",
                    "targetMediaType": "application/json",
                    "targetSchema": {
                      "$ref": "#"
                    },
                    "variables": []
                  }
                ]
              },
              "binding:source": {
                "propertyPointer": "/results",
                "keyPointer": "/data/name"
              }
            }
          }
        },
        "validationSchema": {},
        "version": "2020.1"
      }
    },
    {
      "type": "template",
      "data": {
        "_id": "64ff5f12285e4a009f064820",
        "command": "",
        "template": "conf t\n\nsnmp-server community {{snmpCommunity}} RO \n\n! if using a specific netflow records\n! else use netflow-original which comes by default\nflow record {{customFlowRecord}}\n    match ipv4 tos\n    match ipv4 protocol\n    match ipv4 source address\n    match ipv4 destination address\n    match transport source-port\n    match transport destination-port\n    match interface input\n    collect routing source as\n    collect routing destination as\n    collect routing next-hop address ipv4\n    collect transport tcp flags\n    collect interface output\n    collect counter bytes\n    collect counter packets\n    collect timestamp sys-uptime first\n    collect timestamp sys-uptime last\n!\nsampler {{netflowSampler}}\n    mode random 1 out-of {{deviceSampleRate+1}}\n!\nflow exporter {{exporter}}\n    ! Direct export to Kentik Flow Ingest (without Flow Proxy)\n    description {{publicFlowIngestDescription}}\n    destination {{kentikIngestIP}} {% if vrfName %}vrf {{vrfName}}{% endif %} \n    source {{sourceInterface}}\n    transport udp {{kentikIngestUDPPort}}\n    version 9\n!\n!\nflow monitor {{flowMonitor}}\n    exporter {{exporter}}\n    cache timeout inactive 10\n    cache timeout active 60\n    ! if using custom Netflow records\n    record {{customFlowRecord}}\n    ! if using standard default Netflow records\n    record netflow-original\nexit\n{% for i in sourceInterfaces %}\ninterface {{i}}\n    ip flow monitor {{flowMonitor}} input\n{% endfor %}\n\n{% if vrfName %} \n! Add a route to Kentik Ingest IP if in the <vrfName> in case it has no route to it\nip route vrf {{vrfName}} {{kentikIngestIP}} 255.255.255.255 {{vrfGatewayIP}}\n{% endif %} \n\nexit\n\n",
        "type": "jinja2",
        "name": "IOS-XE Flow Config - Kentik - Example",
        "version": 1,
        "tags": [],
        "data": "{\n  \"snmpCommunity\": \"kentikSNMP\",\n  \"customFlowRecord\": \"itential-flow\",\n  \"netflowSampler\": \"itential-sampler\",\n  \"deviceSampleRate\": 1,\n  \"exporter\": \"itential-exporter\",\n  \"publicFlowIngestDescription\": \"4e076f80f88b4e089de43072\",\n  \"kentikIngestIP\": \"208.76.14.230\",\n  \"kentikIngestUDPPort\": \"20013\",\n  \"vrfName\": \"itential-vrf\",\n  \"vrfGatewayIP\": \"10.10.10.10\",\n  \"flowMonitor\": \"itential-monitor\",\n  \"sourceInterface\":\"GigabitEthernet1\",\n  \"sourceInterfaces\": [\n    \"GigabitEthernet1\",\n    \"GigabitEthernet1.33\"\n  ]\n}",
        "group": "Kentik",
        "description": "https://github.com/kentik/config-snippets/blob/0a48bdcb627a68c6bc2a7d7736012eeb341557bc/Cisco/IOS-XE/netflow-9.conf",
        "created": "2023-10-26T17:40:18.940Z",
        "lastUpdated": "2023-10-31T21:09:02.113Z",
        "createdBy": {
          "_id": "64c196af3ad306006949326f",
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "lastUpdatedBy": {
          "_id": "64c196af3ad306006949326f",
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        }
      }
    },
    {
      "type": "template",
      "data": {
        "_id": "650c882163272b00a0986426",
        "command": "",
        "template": "conf t\n\ninterface GigabitEthernet1\n    no ip flow monitor itential-monitor input\ninterface GigabitEthernet1.33\n    no ip flow monitor itential-monitor input\nno snmp-server community kentikSNMP RO \nno sampler itential-sampler\nno flow monitor itential-monitor\nno flow exporter itential-exporter\nno flow record itential-flow\n",
        "type": "jinja2",
        "name": "IOS-XE Flow Config - Reset - Kentik - Example",
        "version": 1,
        "tags": [],
        "data": "{\n}",
        "group": "Kentik",
        "description": "https://github.com/kentik/config-snippets/blob/0a48bdcb627a68c6bc2a7d7736012eeb341557bc/Cisco/IOS-XE/netflow-9.conf",
        "created": "2023-10-26T17:40:37.396Z",
        "lastUpdated": "2023-10-31T21:09:02.113Z",
        "createdBy": {
          "_id": "64c196af3ad306006949326f",
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        },
        "lastUpdatedBy": {
          "_id": "64c196af3ad306006949326f",
          "provenance": "CloudAAA",
          "username": "mike.elrom@itential.com",
          "firstname": "Michael",
          "inactive": false
        }
      }
    },
    {
      "type": "mop-template",
      "data": {
        "tags": [],
        "name": "Ping - IOS - Kentik - Example",
        "os": "",
        "passRule": true,
        "ignoreWarnings": false,
        "commands": [
          {
            "command": "ping <!address!> repeat <!repeat!>",
            "passRule": true,
            "rules": [
              {
                "rule": "Success",
                "eval": "contains",
                "severity": "error"
              }
            ]
          }
        ],
        "created": 1698342426439,
        "createdBy": "mike.elrom@itential.com",
        "lastUpdated": 1698786542162,
        "lastUpdatedBy": "chris.calloway@itential.com"
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "654104d02c883d00f315fdd1",
        "name": "Build IAG Device Configuration Push Data",
        "description": "Builds inputs for pushing configuration to device over IAG",
        "incoming": [
          {
            "$id": "renderedJinja2Template",
            "type": "object",
            "properties": {
              "renderedTemplate": {
                "type": "string",
                "examples": [
                  "banner"
                ]
              }
            },
            "required": []
          },
          {
            "$id": "deviceName",
            "type": "string",
            "examples": [
              "deviceName"
            ]
          }
        ],
        "outgoing": [
          {
            "$id": "configurationArray",
            "type": "array"
          },
          {
            "$id": "deviceArray",
            "type": "array"
          }
        ],
        "steps": [
          {
            "id": 1,
            "type": "declaration",
            "library": "Array",
            "method": "new Array",
            "args": [
              null
            ],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#",
            "polymorphIndex": 0
          },
          {
            "id": 2,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "deviceName",
              "ptr": ""
            },
            "to": {
              "location": "declaration",
              "name": 1,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 3,
            "type": "declaration",
            "library": "Array",
            "method": "new Array",
            "args": [
              null
            ],
            "view": {
              "row": 1,
              "col": 1
            },
            "context": "#",
            "polymorphIndex": 0
          },
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "renderedJinja2Template",
              "ptr": "/renderedTemplate"
            },
            "to": {
              "location": "declaration",
              "name": 3,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 3,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "configurationArray",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "deviceArray",
              "ptr": ""
            },
            "context": "#"
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 1,
          "row": 5
        },
        "created": "2023-10-31T21:09:01.981Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.981Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "6544148b2c883d00f315fdd3",
        "name": "Find Kentik Device by Name",
        "description": "Find Kentik Device by Name",
        "incoming": [
          {
            "$id": "kentikDevices",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "devices": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "examples": [
                            "165963"
                          ]
                        },
                        "device_name": {
                          "type": "string",
                          "examples": [
                            "test"
                          ]
                        },
                        "device_type": {
                          "type": "string",
                          "examples": [
                            "router"
                          ]
                        }
                      },
                      "required": []
                    }
                  }
                },
                "required": []
              }
            },
            "required": []
          },
          {
            "$id": "deviceName",
            "type": "string",
            "examples": [
              "deviceName"
            ]
          }
        ],
        "outgoing": [
          {
            "$id": "deviceFilter",
            "type": "string",
            "examples": [
              "device"
            ]
          }
        ],
        "steps": [
          {
            "id": 2,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "kentikDevices",
              "ptr": "/response/devices"
            },
            "to": {
              "location": "method",
              "name": 1,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 10,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "deviceName",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 9,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 9,
            "type": "method",
            "library": "String",
            "method": "toLowerCase",
            "args": [
              null
            ],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 11,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 9,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 1,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 1,
            "type": "method",
            "library": "Array",
            "method": "find",
            "args": [
              null,
              "findDevice",
              null
            ],
            "view": {
              "row": 1,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 4,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "id"
            ],
            "view": {
              "row": 1,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 7,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 4,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 6,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "response[${deviceId}].metadata.status.flow_last_seen",
            "args": [
              null
            ],
            "view": {
              "row": 1,
              "col": 4
            },
            "context": "#"
          },
          {
            "id": 8,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 6,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "deviceFilter",
              "ptr": ""
            },
            "context": "#"
          }
        ],
        "functions": [
          {
            "incoming": [
              {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "examples": [
                      "165963"
                    ]
                  },
                  "device_name": {
                    "type": "string",
                    "examples": [
                      "test"
                    ]
                  },
                  "device_type": {
                    "type": "string",
                    "examples": [
                      "router"
                    ]
                  }
                },
                "required": [],
                "$id": "element"
              },
              {
                "title": "index",
                "type": "number",
                "optional": true,
                "$id": "index"
              },
              {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "examples": [
                        "165963"
                      ]
                    },
                    "device_name": {
                      "type": "string",
                      "examples": [
                        "test"
                      ]
                    },
                    "device_type": {
                      "type": "string",
                      "examples": [
                        "router"
                      ]
                    }
                  },
                  "required": []
                },
                "$id": "array",
                "optional": true
              },
              {
                "$id": "thisArg",
                "type": "object",
                "properties": {
                  "0_toLowerCase return": {
                    "type": "string"
                  }
                },
                "isContext": true,
                "isThis": true,
                "isIndexed": true
              }
            ],
            "outgoing": [
              {
                "title": "return",
                "type": "boolean",
                "$id": "return"
              }
            ],
            "steps": [
              {
                "id": 2,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "element",
                  "ptr": "/device_name"
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/0/value"
                },
                "context": "#"
              },
              {
                "id": 3,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "thisArg",
                  "ptr": "/0_toLowerCase return"
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/1/value"
                },
                "context": "#"
              },
              {
                "id": 1,
                "type": "method",
                "library": "Equality",
                "method": "identity",
                "args": [
                  null,
                  null
                ],
                "view": {
                  "row": 1,
                  "col": 1
                },
                "context": "#"
              },
              {
                "id": 4,
                "type": "assign",
                "from": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/return"
                },
                "to": {
                  "location": "outgoing",
                  "name": "return",
                  "ptr": ""
                },
                "context": "#"
              }
            ],
            "functions": [],
            "name": "findDevice",
            "view": {
              "col": 1,
              "row": 4
            },
            "id": "findDevice",
            "comments": []
          }
        ],
        "comments": [],
        "view": {
          "col": 4,
          "row": 5
        },
        "created": "2023-11-02T21:28:43.254Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-11-02T22:18:02.263Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "653fc12f2c883d00f315fdcf",
        "name": "Process Kentik Device Onboarding Form Inputs",
        "description": "Process Kentik form inputs for device onboarding",
        "incoming": [
          {
            "$id": "formData",
            "type": "object",
            "properties": {
              "deviceName": {
                "type": "string",
                "examples": [
                  "IOS_Device_Name"
                ]
              },
              "iapUrl": {
                "type": "string",
                "examples": [
                  "https://iap_01:3443"
                ]
              },
              "serviceNowUrl": {
                "type": "string",
                "examples": [
                  "https://servicenow_dev.com"
                ]
              },
              "deviceOnboardingWebhookUrl": {
                "type": "string",
                "examples": [
                  "webhookURL"
                ]
              },
              "serviceNowAdapter": {
                "type": "string",
                "examples": [
                  "ServiceNow"
                ]
              },
              "netBoxAdapter": {
                "type": "string",
                "examples": [
                  "NetboxV3"
                ]
              },
              "msTeamsAdapter": {
                "type": "string",
                "examples": [
                  "MS Teams"
                ]
              },
              "kentikAdapter": {
                "type": "string",
                "examples": [
                  "Kentik v5"
                ]
              }
            },
            "required": []
          },
          {
            "$id": "itentialJobId",
            "type": "string"
          }
        ],
        "outgoing": [
          {
            "$id": "serviceNowComments",
            "type": "string"
          },
          {
            "$id": "serviceNowSummary",
            "type": "string"
          },
          {
            "$id": "deviceName",
            "type": "string",
            "examples": [
              "IOS_Device_Name"
            ]
          },
          {
            "$id": "iapURL",
            "type": "string",
            "examples": [
              "https://iap_01:3443"
            ]
          },
          {
            "$id": "serviceNowURL",
            "type": "string",
            "examples": [
              "https://servicenow_dev.com"
            ]
          },
          {
            "$id": "deviceOnboardingWebhookURL",
            "type": "string"
          },
          {
            "$id": "serviceNowAdapter",
            "type": "string",
            "examples": [
              "ServiceNow"
            ]
          },
          {
            "$id": "netBoxAdapter",
            "type": "string",
            "examples": [
              "NetBox"
            ]
          },
          {
            "$id": "msTeamsAdapter",
            "type": "string"
          },
          {
            "$id": "kentikAdapter",
            "type": "string"
          }
        ],
        "steps": [
          {
            "id": 1,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "[code] Device Onboarding has begun for device ${deviceName}. <br /> <ul> <li><a href=\"${iapUrl}/operations-manager/#/jobs/${jobId}\">Itential Job</a></li> </ul> [/code]",
            "args": [
              null,
              null,
              null
            ],
            "view": {
              "row": 1,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 2,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "serviceNowComments",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 3,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "Kentik Device Onboarding: ${deviceName}",
            "args": [
              null
            ],
            "view": {
              "row": 2,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 3,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "serviceNowSummary",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/deviceName"
            },
            "to": {
              "location": "template",
              "name": 1,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/deviceName"
            },
            "to": {
              "location": "template",
              "name": 3,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 7,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/iapUrl"
            },
            "to": {
              "location": "template",
              "name": 1,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 8,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "itentialJobId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 1,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 9,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/serviceNowAdapter"
            },
            "to": {
              "location": "outgoing",
              "name": "serviceNowAdapter",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 10,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/netBoxAdapter"
            },
            "to": {
              "location": "outgoing",
              "name": "netBoxAdapter",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 11,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/msTeamsAdapter"
            },
            "to": {
              "location": "outgoing",
              "name": "msTeamsAdapter",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 12,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/kentikAdapter"
            },
            "to": {
              "location": "outgoing",
              "name": "kentikAdapter",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 13,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/deviceOnboardingWebhookUrl"
            },
            "to": {
              "location": "outgoing",
              "name": "deviceOnboardingWebhookURL",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 14,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/serviceNowUrl"
            },
            "to": {
              "location": "outgoing",
              "name": "serviceNowURL",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 15,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/iapUrl"
            },
            "to": {
              "location": "outgoing",
              "name": "iapURL",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 16,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/deviceName"
            },
            "to": {
              "location": "outgoing",
              "name": "deviceName",
              "ptr": ""
            },
            "context": "#"
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 2,
          "row": 5
        },
        "created": "2023-10-31T21:09:01.982Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.982Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "653fe9a52c883d00f315fdd0",
        "name": "Process Kentik Device Onboarding Reset Form Inputs",
        "description": "Process Kentik form inputs for device onboarding",
        "incoming": [
          {
            "$id": "formData",
            "type": "object",
            "properties": {
              "deviceName": {
                "type": "string",
                "examples": [
                  "IOS_Device_Name"
                ]
              },
              "kentikAdapter": {
                "type": "string",
                "examples": [
                  "Kentik v5"
                ]
              }
            },
            "required": []
          }
        ],
        "outgoing": [
          {
            "$id": "deviceName",
            "type": "string"
          },
          {
            "$id": "kentikAdapter",
            "type": "string"
          }
        ],
        "steps": [
          {
            "id": 12,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/kentikAdapter"
            },
            "to": {
              "location": "outgoing",
              "name": "kentikAdapter",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 13,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/deviceName"
            },
            "to": {
              "location": "outgoing",
              "name": "deviceName",
              "ptr": ""
            },
            "context": "#"
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 1,
          "row": 5
        },
        "created": "2023-10-31T21:09:01.982Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.982Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "654144da2c883d00f315fdd2",
        "name": "Process AWS Blocked Traffic Event - Reset Inputs",
        "description": "Processes AWS blocked traffic event - reset inputs",
        "incoming": [
          {
            "$id": "formData",
            "type": "object",
            "properties": {
              "sourceIP": {
                "type": "string",
                "examples": [
                  "10.10.10.10"
                ]
              },
              "awsEC2Adapter": {
                "type": "string",
                "examples": [
                  "AWS"
                ]
              },
              "awsSecurityGroup": {
                "type": "string",
                "examples": [
                  "webserver-kentik"
                ]
              }
            },
            "required": []
          }
        ],
        "outgoing": [
          {
            "$id": "cidrSourceIP",
            "type": "string",
            "examples": [
              "10.10.10.10"
            ]
          },
          {
            "$id": "awsEC2Adapter",
            "type": "string",
            "examples": [
              "AWS"
            ]
          },
          {
            "$id": "securityGroupSearchData",
            "type": "array"
          }
        ],
        "steps": [
          {
            "id": 2,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/awsEC2Adapter"
            },
            "to": {
              "location": "outgoing",
              "name": "awsEC2Adapter",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/sourceIP"
            },
            "to": {
              "location": "template",
              "name": 3,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 7,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "formData",
              "ptr": "/awsSecurityGroup"
            },
            "to": {
              "location": "function",
              "name": 6,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 3,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "${sourceIP}/32",
            "args": [
              null
            ],
            "view": {
              "row": 1,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "function",
            "function": "createSecurityGroupSearch",
            "args": [
              null
            ],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 3,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "cidrSourceIP",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 8,
            "type": "assign",
            "from": {
              "location": "function",
              "name": 6,
              "ptr": "/return/securityGroupSearchData"
            },
            "to": {
              "location": "outgoing",
              "name": "securityGroupSearchData",
              "ptr": ""
            },
            "context": "#"
          }
        ],
        "functions": [
          {
            "incoming": [
              {
                "$id": "securityGroupName",
                "type": "string",
                "examples": [
                  "securityGroupName"
                ]
              }
            ],
            "outgoing": [
              {
                "$id": "securityGroupSearchData",
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "Name": {
                      "type": "string",
                      "examples": [
                        "group-name"
                      ]
                    },
                    "Value": {
                      "type": "string",
                      "examples": [
                        "webserver-kentik"
                      ]
                    }
                  },
                  "required": []
                }
              }
            ],
            "steps": [
              {
                "id": 2,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "securityGroupName",
                  "ptr": ""
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/2/value"
                },
                "context": "#"
              },
              {
                "id": 1,
                "type": "method",
                "library": "Object",
                "method": "setProperty",
                "args": [
                  {
                    "Name": "group-name"
                  },
                  "Value",
                  null
                ],
                "view": {
                  "row": 1,
                  "col": 1
                },
                "context": "#"
              },
              {
                "id": 4,
                "type": "assign",
                "from": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/return"
                },
                "to": {
                  "location": "declaration",
                  "name": 3,
                  "ptr": "/args/0/value"
                },
                "context": "#"
              },
              {
                "id": 3,
                "type": "declaration",
                "library": "Array",
                "method": "new Array",
                "args": [
                  null
                ],
                "view": {
                  "row": 1,
                  "col": 2
                },
                "context": "#",
                "polymorphIndex": 0
              },
              {
                "id": 5,
                "type": "assign",
                "from": {
                  "location": "declaration",
                  "name": 3,
                  "ptr": "/return"
                },
                "to": {
                  "location": "outgoing",
                  "name": "securityGroupSearchData",
                  "ptr": ""
                },
                "context": "#"
              }
            ],
            "functions": [],
            "name": "createSecurityGroupSearch",
            "view": {
              "col": 2,
              "row": 4
            },
            "id": "createSecurityGroupSearch",
            "comments": []
          }
        ],
        "comments": [],
        "view": {
          "col": 1,
          "row": 5
        },
        "created": "2023-10-31T21:09:01.987Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.987Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "650b873164654800d3248064",
        "name": "IOS-XE Config - Kentik - Example",
        "description": "",
        "incoming": [
          {
            "$id": "netboxDevice",
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "examples": [
                  3
                ]
              },
              "url": {
                "type": "string",
                "examples": [
                  "https://35.169.244.112/api/dcim/devices/3/"
                ]
              },
              "display": {
                "type": "string",
                "examples": [
                  "ATLSWITCH01"
                ]
              },
              "name": {
                "type": "string",
                "examples": [
                  "ATLSWITCH01"
                ]
              },
              "device_type": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "examples": [
                      1
                    ]
                  },
                  "url": {
                    "type": "string",
                    "examples": [
                      "https://35.169.244.112/api/dcim/device-types/1/"
                    ]
                  },
                  "display": {
                    "type": "string",
                    "examples": [
                      "IOS"
                    ]
                  },
                  "manufacturer": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "examples": [
                          1
                        ]
                      },
                      "url": {
                        "type": "string",
                        "examples": [
                          "https://35.169.244.112/api/dcim/manufacturers/1/"
                        ]
                      },
                      "display": {
                        "type": "string",
                        "examples": [
                          "Cisco"
                        ]
                      },
                      "name": {
                        "type": "string",
                        "examples": [
                          "Cisco"
                        ]
                      },
                      "slug": {
                        "type": "string",
                        "examples": [
                          "cisco"
                        ]
                      }
                    },
                    "required": []
                  },
                  "model": {
                    "type": "string",
                    "examples": [
                      "IOS"
                    ]
                  },
                  "slug": {
                    "type": "string",
                    "examples": [
                      "ios"
                    ]
                  }
                },
                "required": []
              },
              "device_role": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "examples": [
                      2
                    ]
                  },
                  "url": {
                    "type": "string",
                    "examples": [
                      "https://35.169.244.112/api/dcim/device-roles/2/"
                    ]
                  },
                  "display": {
                    "type": "string",
                    "examples": [
                      "Data Center"
                    ]
                  },
                  "name": {
                    "type": "string",
                    "examples": [
                      "Data Center"
                    ]
                  },
                  "slug": {
                    "type": "string",
                    "examples": [
                      "data-center"
                    ]
                  }
                },
                "required": []
              },
              "tenant": {
                "type": "null"
              },
              "platform": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "examples": [
                      1
                    ]
                  },
                  "url": {
                    "type": "string",
                    "examples": [
                      "https://35.169.244.112/api/dcim/platforms/1/"
                    ]
                  },
                  "display": {
                    "type": "string",
                    "examples": [
                      "CIsco IOS"
                    ]
                  },
                  "name": {
                    "type": "string",
                    "examples": [
                      "CIsco IOS"
                    ]
                  },
                  "slug": {
                    "type": "string",
                    "examples": [
                      "cisco-ios"
                    ]
                  }
                },
                "required": []
              },
              "serial": {
                "type": "string",
                "examples": [
                  "12345"
                ]
              },
              "asset_tag": {
                "type": "null"
              },
              "site": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "examples": [
                      2
                    ]
                  },
                  "url": {
                    "type": "string",
                    "examples": [
                      "https://35.169.244.112/api/dcim/sites/2/"
                    ]
                  },
                  "display": {
                    "type": "string",
                    "examples": [
                      "ATL HQ"
                    ]
                  },
                  "name": {
                    "type": "string",
                    "examples": [
                      "ATL HQ"
                    ]
                  },
                  "slug": {
                    "type": "string",
                    "examples": [
                      "atl-hq"
                    ]
                  }
                },
                "required": []
              },
              "location": {
                "type": "null"
              },
              "rack": {
                "type": "null"
              },
              "position": {
                "type": "null"
              },
              "face": {
                "type": "null"
              },
              "parent_device": {
                "type": "null"
              },
              "status": {
                "type": "object",
                "properties": {
                  "value": {
                    "type": "string",
                    "examples": [
                      "active"
                    ]
                  },
                  "label": {
                    "type": "string",
                    "examples": [
                      "Active"
                    ]
                  }
                },
                "required": []
              },
              "airflow": {
                "type": "null"
              },
              "primary_ip": {
                "type": "null"
              },
              "primary_ip4": {
                "type": "null"
              },
              "primary_ip6": {
                "type": "null"
              },
              "cluster": {
                "type": "null"
              },
              "virtual_chassis": {
                "type": "null"
              },
              "vc_position": {
                "type": "null"
              },
              "vc_priority": {
                "type": "null"
              },
              "comments": {
                "type": "string",
                "examples": [
                  "Used for Partner testing, Kentik"
                ]
              },
              "local_context_data": {
                "type": "object",
                "properties": {
                  "ipAddress": {
                    "type": "string",
                    "examples": [
                      "3.230.106.58"
                    ],
                    "format": "ipv4"
                  },
                  "sampleRate": {
                    "type": "integer",
                    "examples": [
                      1
                    ]
                  },
                  "snmpV3Conf": {
                    "type": "object",
                    "properties": {
                      "userName": {
                        "type": "string",
                        "examples": [
                          "kentik"
                        ]
                      },
                      "privacyProtocol": {
                        "type": "string",
                        "examples": [
                          "AES"
                        ]
                      },
                      "privacyPassphrase": {
                        "type": "string",
                        "examples": [
                          "AESPassword"
                        ]
                      },
                      "authenticationProtocol": {
                        "type": "string",
                        "examples": [
                          "SHA"
                        ]
                      },
                      "authenticationPassphrase": {
                        "type": "string",
                        "examples": [
                          "Password"
                        ]
                      }
                    },
                    "required": []
                  },
                  "description": {
                    "type": "string",
                    "examples": [
                      "New Test Device"
                    ]
                  },
                  "snmpCommunity": {
                    "type": "string",
                    "examples": [
                      "kentikSNMP"
                    ]
                  }
                },
                "required": []
              },
              "tags": {
                "type": "array"
              },
              "custom_fields": {
                "type": "object",
                "properties": {},
                "required": []
              },
              "config_context": {
                "type": "object",
                "properties": {
                  "ipAddress": {
                    "type": "string",
                    "examples": [
                      "3.230.106.58"
                    ],
                    "format": "ipv4"
                  },
                  "sampleRate": {
                    "type": "integer",
                    "examples": [
                      1
                    ]
                  },
                  "snmpV3Conf": {
                    "type": "object",
                    "properties": {
                      "userName": {
                        "type": "string",
                        "examples": [
                          "kentik"
                        ]
                      },
                      "privacyProtocol": {
                        "type": "string",
                        "examples": [
                          "AES"
                        ]
                      },
                      "privacyPassphrase": {
                        "type": "string",
                        "examples": [
                          "AESPassword"
                        ]
                      },
                      "authenticationProtocol": {
                        "type": "string",
                        "examples": [
                          "SHA"
                        ]
                      },
                      "authenticationPassphrase": {
                        "type": "string",
                        "examples": [
                          "Password"
                        ]
                      }
                    },
                    "required": []
                  },
                  "description": {
                    "type": "string",
                    "examples": [
                      "New Test Device"
                    ]
                  },
                  "snmpCommunity": {
                    "type": "string",
                    "examples": [
                      "kentikSNMP"
                    ]
                  }
                },
                "required": []
              },
              "created": {
                "type": "string",
                "examples": [
                  "2023-09-02T20:38:21.063282Z"
                ],
                "format": "date-time"
              },
              "last_updated": {
                "type": "string",
                "examples": [
                  "2023-09-20T16:53:12.254929Z"
                ],
                "format": "date-time"
              }
            },
            "required": []
          },
          {
            "$id": "jobId",
            "type": "string",
            "examples": [
              "afdaf323r4"
            ]
          },
          {
            "$id": "vrfGatewayIP",
            "type": "string",
            "examples": [
              "10.10.10.123"
            ],
            "format": "ipv4"
          },
          {
            "$id": "kentikCompanySettings",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "company_max_fps": {
                    "type": "integer",
                    "examples": [
                      4000
                    ]
                  },
                  "flow_ips": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "examples": [
                        "208.76.14.230"
                      ],
                      "format": "ipv4"
                    }
                  },
                  "port": {
                    "type": "string",
                    "examples": [
                      "20013"
                    ]
                  },
                  "access_control": {
                    "type": "object",
                    "properties": {
                      "remote_portal_access_allowed": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "examples": [
                            "0.0.0.0/0"
                          ]
                        }
                      },
                      "remote_agent_access_allowed": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "examples": [
                            "0.0.0.0/0"
                          ]
                        }
                      },
                      "remote_api_access_allowed": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "examples": [
                            "10.10.10.10"
                          ],
                          "format": "ipv4"
                        }
                      },
                      "remote_login_allowed": {
                        "type": "array"
                      }
                    },
                    "required": []
                  },
                  "edition": {
                    "type": "string",
                    "examples": [
                      "premier"
                    ]
                  },
                  "tags": {
                    "type": "array"
                  },
                  "currency": {
                    "type": "string",
                    "examples": [
                      "USD"
                    ]
                  }
                },
                "required": []
              }
            },
            "required": []
          }
        ],
        "outgoing": [
          {
            "$id": "templateVars",
            "type": "object",
            "properties": {
              "snmpCommunity": {
                "type": "string",
                "examples": [
                  "kentikSNMP"
                ]
              },
              "customFlowRecord": {
                "type": "string",
                "examples": [
                  "itential-flow"
                ]
              },
              "netflowSampler": {
                "type": "string",
                "examples": [
                  "itential-sampler"
                ]
              },
              "deviceSampleRate": {
                "type": "integer",
                "examples": [
                  1
                ]
              },
              "exporter": {
                "type": "string",
                "examples": [
                  "itential-exporter"
                ]
              },
              "publicFlowIngestDescription": {
                "type": "string",
                "examples": [
                  "iap-job-id"
                ]
              },
              "kentikIngestIP": {
                "type": "string",
                "examples": [
                  "208.76.14.230"
                ],
                "format": "ipv4"
              },
              "kentikIngestUDPPort": {
                "type": "string",
                "examples": [
                  "20013"
                ]
              },
              "vrfName": {
                "type": "string",
                "examples": [
                  "itential-vrf"
                ]
              },
              "vrfGatewayIP": {
                "type": "string",
                "examples": [
                  "10.10.10.123"
                ],
                "format": "ipv4"
              },
              "flowMonitor": {
                "type": "string",
                "examples": [
                  "itential-monitor"
                ]
              },
              "sourceInterface": {
                "type": "string",
                "examples": [
                  "GigabitEthernet1"
                ]
              },
              "sourceInterfaces": {
                "type": "array",
                "items": {
                  "type": "string",
                  "examples": [
                    "GigabitEthernet1"
                  ]
                }
              }
            },
            "required": []
          }
        ],
        "steps": [
          {
            "id": 1,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "netboxDevice",
              "ptr": "/local_context_data/snmpCommunity"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/snmpCommunity"
            },
            "context": "#"
          },
          {
            "id": 7,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "netboxDevice",
              "ptr": "/config_context/sampleRate"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/deviceSampleRate"
            },
            "context": "#"
          },
          {
            "id": 9,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "jobId",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/publicFlowIngestDescription"
            },
            "context": "#"
          },
          {
            "id": 14,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "vrfGatewayIP",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/vrfGatewayIP"
            },
            "context": "#"
          },
          {
            "id": 2,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              "itential-flow"
            ],
            "view": {
              "row": 1,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              "itential-sampler"
            ],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              "itential-exporter"
            ],
            "view": {
              "row": 3,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 12,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              null
            ],
            "view": {
              "row": 4,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 15,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              "itential-monitor"
            ],
            "view": {
              "row": 5,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 17,
            "type": "declaration",
            "library": "Array",
            "method": "new Array",
            "args": [
              "GigabitEthernet1",
              "GigabitEthernet1.33"
            ],
            "view": {
              "row": 4,
              "col": 2
            },
            "context": "#",
            "polymorphIndex": 0
          },
          {
            "id": 3,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 2,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/customFlowRecord"
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 4,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/netflowSampler"
            },
            "context": "#"
          },
          {
            "id": 8,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 6,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/exporter"
            },
            "context": "#"
          },
          {
            "id": 13,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 12,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/vrfName"
            },
            "context": "#"
          },
          {
            "id": 16,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 15,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/flowMonitor"
            },
            "context": "#"
          },
          {
            "id": 18,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 17,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/sourceInterfaces"
            },
            "context": "#"
          },
          {
            "id": 19,
            "type": "method",
            "library": "Array",
            "method": "getIndex",
            "args": [
              null,
              0
            ],
            "view": {
              "row": 3,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 20,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "kentikCompanySettings",
              "ptr": "/response/flow_ips"
            },
            "to": {
              "location": "method",
              "name": 19,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 21,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 19,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/kentikIngestIP"
            },
            "context": "#"
          },
          {
            "id": 22,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "kentikCompanySettings",
              "ptr": "/response/port"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/kentikIngestUDPPort"
            },
            "context": "#"
          },
          {
            "id": 23,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              "GigabitEthernet1"
            ],
            "view": {
              "row": 1,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 24,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 23,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "templateVars",
              "ptr": "/sourceInterface"
            },
            "context": "#"
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 2,
          "row": 6
        },
        "created": "2023-10-31T21:09:01.986Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.986Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "64f3937db3e59e00cc64337a",
        "name": "Create Device - Kentik",
        "description": "",
        "incoming": [
          {
            "$id": "name",
            "type": "string",
            "examples": [
              "test-device"
            ]
          },
          {
            "$id": "type",
            "type": "string",
            "examples": [
              "router"
            ]
          },
          {
            "$id": "description",
            "type": "string",
            "examples": [
              "my device"
            ]
          },
          {
            "$id": "planId",
            "type": "integer",
            "examples": [
              44662
            ]
          },
          {
            "$id": "sampleRate",
            "type": "integer",
            "examples": [
              1
            ]
          },
          {
            "$id": "sendingIPs",
            "type": "array",
            "items": {
              "type": "string",
              "examples": [
                "192.168.178.1"
              ],
              "format": "ipv4"
            }
          },
          {
            "$id": "snmpIP",
            "type": "string",
            "examples": [
              "192.168.178.1"
            ],
            "format": "ipv4"
          },
          {
            "$id": "snmpCommunity",
            "type": "string",
            "examples": [
              "kentikSNMP"
            ]
          },
          {
            "$id": "snmpConfUsername",
            "type": "string",
            "examples": [
              "kentik"
            ]
          },
          {
            "$id": "snmpConfAuthenticationProtocol",
            "type": "string",
            "examples": [
              "SHA"
            ]
          },
          {
            "$id": "snmpConfAuthenticationPassphrase",
            "type": "string",
            "examples": [
              "Pass"
            ]
          },
          {
            "$id": "snmpPrivacyProtocol",
            "type": "string",
            "examples": [
              "AES"
            ]
          },
          {
            "$id": "snmpPrivacyPassphrase",
            "type": "string",
            "examples": [
              "AESPassword"
            ]
          },
          {
            "$id": "bgpType",
            "type": "string",
            "examples": [
              "device"
            ]
          },
          {
            "$id": "bgpNeighborIP",
            "type": "string",
            "examples": [
              "209.1.1.1"
            ],
            "format": "ipv4"
          },
          {
            "$id": "bgpNeighborIP6",
            "type": "string",
            "examples": [
              "ff44::ffff"
            ],
            "format": "ipv6"
          },
          {
            "$id": "bgpNeighborASN",
            "type": "string",
            "examples": [
              "1"
            ]
          },
          {
            "$id": "bgpNeighborPassword",
            "type": "string",
            "examples": [
              "pass"
            ]
          },
          {
            "$id": "siteInfo",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "sites": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": [
                            "integer",
                            "number"
                          ],
                          "examples": [
                            18245
                          ]
                        },
                        "site_name": {
                          "type": "string",
                          "examples": [
                            "ATL HQ"
                          ]
                        },
                        "lat": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "examples": [
                            33.7914918
                          ]
                        },
                        "lon": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "examples": [
                            -84.3898086
                          ]
                        },
                        "company_id": {
                          "type": [
                            "integer",
                            "number"
                          ],
                          "examples": [
                            180173
                          ]
                        }
                      },
                      "required": []
                    }
                  }
                },
                "required": []
              }
            },
            "required": []
          },
          {
            "$id": "siteName",
            "type": "string",
            "examples": [
              "mySite"
            ]
          }
        ],
        "outgoing": [
          {
            "$id": "devicePayload",
            "type": "object",
            "properties": {
              "device": {
                "type": "object",
                "properties": {
                  "device_name": {
                    "type": "string",
                    "examples": [
                      "test1d"
                    ]
                  },
                  "device_type": {
                    "type": "string",
                    "examples": [
                      "router"
                    ]
                  },
                  "device_description": {
                    "type": "string",
                    "examples": [
                      "New Test Device"
                    ]
                  },
                  "plan_id": {
                    "type": "integer",
                    "examples": [
                      44662
                    ]
                  },
                  "site_id": {
                    "type": "integer",
                    "examples": [
                      10170
                    ]
                  },
                  "device_sample_rate": {
                    "type": "integer",
                    "examples": [
                      1024
                    ]
                  },
                  "sending_ips": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "examples": [
                        "192.168.178.1"
                      ],
                      "format": "ipv4"
                    }
                  },
                  "device_snmp_ip": {
                    "type": "string",
                    "examples": [
                      "192.168.178.1"
                    ],
                    "format": "ipv4"
                  },
                  "device_snmp_community": {
                    "type": "string",
                    "examples": [
                      "kentikSNMP"
                    ]
                  },
                  "minimize_snmp": {
                    "type": "boolean",
                    "examples": [
                      true,
                      false
                    ]
                  },
                  "device_snmp_v3_conf": {
                    "type": "object",
                    "properties": {
                      "UserName": {
                        "type": "string",
                        "examples": [
                          "kentik"
                        ]
                      },
                      "AuthenticationProtocol": {
                        "type": "string",
                        "examples": [
                          "SHA"
                        ]
                      },
                      "AuthenticationPassphrase": {
                        "type": "string",
                        "examples": [
                          "Password"
                        ]
                      },
                      "PrivacyProtocol": {
                        "type": "string",
                        "examples": [
                          "AES"
                        ]
                      },
                      "PrivacyPassphrase": {
                        "type": "string",
                        "examples": [
                          "AESPassword"
                        ]
                      }
                    },
                    "required": []
                  },
                  "device_bgp_type": {
                    "type": "string",
                    "examples": [
                      "device"
                    ]
                  },
                  "device_bgp_neighbor_ip": {
                    "type": "string",
                    "examples": [
                      "209.1.1.1"
                    ],
                    "format": "ipv4"
                  },
                  "device_bgp_neighbor_ip6": {
                    "type": "string",
                    "examples": [
                      "ff44::ffff"
                    ],
                    "format": "ipv6"
                  },
                  "device_bgp_neighbor_asn": {
                    "type": "string",
                    "examples": [
                      "1"
                    ]
                  },
                  "device_bgp_password": {
                    "type": "string",
                    "examples": [
                      "KentikMD5"
                    ]
                  }
                },
                "required": []
              }
            },
            "required": []
          }
        ],
        "steps": [
          {
            "id": 1,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "name",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_name"
            },
            "context": "#"
          },
          {
            "id": 2,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "type",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_type"
            },
            "context": "#"
          },
          {
            "id": 3,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "description",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_description"
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "planId",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/plan_id"
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "sampleRate",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_sample_rate"
            },
            "context": "#"
          },
          {
            "id": 7,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "sendingIPs",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/sending_ips"
            },
            "context": "#"
          },
          {
            "id": 8,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpIP",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_snmp_ip"
            },
            "context": "#"
          },
          {
            "id": 9,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpCommunity",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_snmp_community"
            },
            "context": "#"
          },
          {
            "id": 17,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "bgpType",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_bgp_type"
            },
            "context": "#"
          },
          {
            "id": 18,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "bgpNeighborIP",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_bgp_neighbor_ip"
            },
            "context": "#"
          },
          {
            "id": 19,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "bgpNeighborIP6",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_bgp_neighbor_ip6"
            },
            "context": "#"
          },
          {
            "id": 20,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "bgpNeighborASN",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_bgp_neighbor_asn"
            },
            "context": "#"
          },
          {
            "id": 21,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "bgpNeighborPassword",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_bgp_password"
            },
            "context": "#"
          },
          {
            "id": 10,
            "type": "declaration",
            "library": "Boolean",
            "method": "new Boolean",
            "args": [
              false
            ],
            "view": {
              "row": 3,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 23,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "siteInfo",
              "ptr": "/response/sites"
            },
            "to": {
              "location": "method",
              "name": 22,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 24,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "siteName",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 22,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 30,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpConfUsername",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 29,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 41,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpConfUsername",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 38,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 42,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpConfAuthenticationProtocol",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 38,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 43,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpConfAuthenticationPassphrase",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 38,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 44,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpPrivacyProtocol",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 38,
              "ptr": "/args/3/value"
            },
            "context": "#"
          },
          {
            "id": 45,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "snmpPrivacyPassphrase",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 38,
              "ptr": "/args/4/value"
            },
            "context": "#"
          },
          {
            "id": 29,
            "type": "method",
            "library": "String",
            "method": "length",
            "args": [
              null
            ],
            "view": {
              "row": 4,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 22,
            "type": "method",
            "library": "Array",
            "method": "find",
            "args": [
              null,
              "ƒ_query_1",
              null
            ],
            "view": {
              "row": 9,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 32,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 29,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 31,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 26,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 22,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 25,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 31,
            "type": "method",
            "library": "Relational",
            "method": "greaterThan",
            "args": [
              null,
              0
            ],
            "view": {
              "row": 4,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 25,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "id"
            ],
            "view": {
              "row": 9,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 36,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 31,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 35,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 38,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "{\n  \"UserName\": \"${userName}\",\n  \"AuthenticationProtocol\": \"${authenticationProtocol}\",\n  \"AuthenticationPassphrase\": \"${authenticationPassphrase}\",\n  \"PrivacyProtocol\": \"${privacyProtocol}\",\n  \"PrivacyPassphrase\": \"${privacyPassphrase}\"\n}",
            "args": [
              null,
              null,
              null,
              null,
              null
            ],
            "view": {
              "row": 5,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 40,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 38,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 39,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 39,
            "type": "method",
            "library": "JSON",
            "method": "parse",
            "args": [
              null,
              null
            ],
            "view": {
              "row": 5,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 46,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 39,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 35,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 35,
            "type": "method",
            "library": "Conditional",
            "method": "ternary",
            "args": [
              null,
              null,
              {}
            ],
            "view": {
              "row": 4,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 11,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 10,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/minimize_snmp"
            },
            "context": "#"
          },
          {
            "id": 27,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 25,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/site_id"
            },
            "context": "#"
          },
          {
            "id": 47,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 35,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "devicePayload",
              "ptr": "/device/device_snmp_v3_conf"
            },
            "context": "#"
          }
        ],
        "functions": [
          {
            "incoming": [
              {
                "type": "object",
                "properties": {
                  "id": {
                    "type": [
                      "integer",
                      "number"
                    ],
                    "examples": [
                      18245
                    ]
                  },
                  "site_name": {
                    "type": "string",
                    "examples": [
                      "ATL HQ"
                    ]
                  },
                  "lat": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "examples": [
                      33.7914918
                    ]
                  },
                  "lon": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "examples": [
                      -84.3898086
                    ]
                  },
                  "company_id": {
                    "type": [
                      "integer",
                      "number"
                    ],
                    "examples": [
                      180173
                    ]
                  }
                },
                "required": [],
                "$id": "element"
              },
              {
                "title": "index",
                "type": "number",
                "optional": true,
                "$id": "index"
              },
              {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": [
                        "integer",
                        "number"
                      ],
                      "examples": [
                        18245
                      ]
                    },
                    "site_name": {
                      "type": "string",
                      "examples": [
                        "ATL HQ"
                      ]
                    },
                    "lat": {
                      "type": [
                        "number",
                        "null"
                      ],
                      "examples": [
                        33.7914918
                      ]
                    },
                    "lon": {
                      "type": [
                        "number",
                        "null"
                      ],
                      "examples": [
                        -84.3898086
                      ]
                    },
                    "company_id": {
                      "type": [
                        "integer",
                        "number"
                      ],
                      "examples": [
                        180173
                      ]
                    }
                  },
                  "required": []
                },
                "$id": "array",
                "optional": true
              },
              {
                "$id": "thisArg",
                "type": "object",
                "properties": {
                  "0_siteName": {
                    "$id": "siteName",
                    "type": "string",
                    "examples": [
                      "mySite"
                    ]
                  }
                },
                "isContext": true,
                "isIndexed": true
              }
            ],
            "outgoing": [
              {
                "title": "return",
                "type": "boolean",
                "$id": "return"
              }
            ],
            "steps": [
              {
                "id": 2,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "element",
                  "ptr": "/site_name"
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/0/value"
                },
                "context": "#"
              },
              {
                "id": 3,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "thisArg",
                  "ptr": "/0_siteName"
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/1/value"
                },
                "context": "#"
              },
              {
                "id": 1,
                "type": "method",
                "library": "Equality",
                "method": "equality",
                "args": [
                  null,
                  null
                ],
                "view": {
                  "row": 1,
                  "col": 1
                },
                "context": "#"
              },
              {
                "id": 4,
                "type": "assign",
                "from": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/return"
                },
                "to": {
                  "location": "outgoing",
                  "name": "return",
                  "ptr": ""
                },
                "context": "#"
              }
            ],
            "functions": [],
            "name": "ƒ_query_1",
            "view": {
              "col": 2,
              "row": 4
            },
            "id": "ƒ_query_1",
            "comments": []
          }
        ],
        "comments": [],
        "view": {
          "col": 5,
          "row": 10
        },
        "created": "2023-10-31T21:09:01.987Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.987Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "621a5d367393d9019373d137",
        "name": "Build CR Update Payload - ServiceNow",
        "description": "",
        "incoming": [
          {
            "$id": "changeRequestResponse",
            "type": "object",
            "properties": {
              "response": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "examples": [
                        "a68d46e49712011015c5b4b3f153af9e"
                      ]
                    },
                    "current_state": {
                      "type": "string",
                      "examples": [
                        "-5"
                      ]
                    }
                  },
                  "required": []
                }
              }
            },
            "required": []
          },
          {
            "$id": "comments",
            "type": "string"
          },
          {
            "$id": "state",
            "type": "string"
          }
        ],
        "outgoing": [
          {
            "$id": "crSysId",
            "type": "string"
          },
          {
            "$id": "crUpdatePayload",
            "type": "object",
            "properties": {
              "comments": {
                "type": "string"
              },
              "state": {
                "type": "integer",
                "examples": [
                  0
                ]
              }
            },
            "required": []
          }
        ],
        "steps": [
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "comments",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "crUpdatePayload",
              "ptr": "/comments"
            }
          },
          {
            "id": 5,
            "type": "method",
            "library": "String",
            "method": "toLowerCase",
            "args": [
              null
            ],
            "view": {
              "row": 3,
              "col": 1
            }
          },
          {
            "id": 6,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "state",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 5,
              "ptr": "/args/0/value"
            }
          },
          {
            "id": 7,
            "type": "method",
            "library": "JSON",
            "method": "parse",
            "args": [
              "{    \"new\": -5,   \"assess\": -4,   \"authorize\": -3,   \"scheduled\": -2,   \"implement\": -1,   \"review\": 0,   \"closed\": -6,   \"canceled\": -7 }",
              null
            ],
            "view": {
              "row": 4,
              "col": 1
            }
          },
          {
            "id": 8,
            "type": "method",
            "library": "Object",
            "method": "optional chaining",
            "args": [
              null,
              null
            ],
            "view": {
              "row": 3,
              "col": 2
            }
          },
          {
            "id": 9,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 7,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 8,
              "ptr": "/args/0/value"
            }
          },
          {
            "id": 10,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 5,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 8,
              "ptr": "/args/1/value"
            }
          },
          {
            "id": 17,
            "type": "method",
            "library": "Logical",
            "method": "nullish",
            "args": [
              null,
              null
            ],
            "view": {
              "row": 3,
              "col": 3
            }
          },
          {
            "id": 18,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 8,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 17,
              "ptr": "/args/0/value"
            }
          },
          {
            "id": 20,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 17,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "crUpdatePayload",
              "ptr": "/state"
            }
          },
          {
            "id": 21,
            "type": "method",
            "library": "Number",
            "method": "parseInt",
            "args": [
              null,
              null
            ],
            "view": {
              "row": 2,
              "col": 2
            }
          },
          {
            "id": 23,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 21,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 17,
              "ptr": "/args/1/value"
            }
          },
          {
            "id": 24,
            "type": "method",
            "library": "Array",
            "method": "getIndex",
            "args": [
              null,
              0
            ],
            "view": {
              "row": 1,
              "col": 1
            }
          },
          {
            "id": 25,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "changeRequestResponse",
              "ptr": "/response"
            },
            "to": {
              "location": "method",
              "name": 24,
              "ptr": "/args/0/value"
            }
          },
          {
            "id": 26,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "current_state"
            ],
            "view": {
              "row": 2,
              "col": 1
            }
          },
          {
            "id": 27,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 24,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 26,
              "ptr": "/args/0/value"
            }
          },
          {
            "id": 28,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 26,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 21,
              "ptr": "/args/0/value"
            }
          },
          {
            "id": 29,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "id"
            ],
            "view": {
              "row": 1,
              "col": 2
            }
          },
          {
            "id": 30,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 24,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 29,
              "ptr": "/args/0/value"
            }
          },
          {
            "id": 31,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 29,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "crSysId",
              "ptr": ""
            }
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 3,
          "row": 5
        },
        "created": "2023-10-31T21:09:01.983Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.983Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "650b4bab64654800d3248062",
        "name": "Device Onboarding - Kentik - Example",
        "description": "",
        "incoming": [
          {
            "$id": "netbox",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "count": {
                    "type": "integer",
                    "examples": [
                      1
                    ]
                  },
                  "next": {
                    "type": "null"
                  },
                  "previous": {
                    "type": "null"
                  },
                  "results": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                },
                "required": []
              }
            },
            "required": []
          },
          {
            "$id": "planId",
            "type": "integer",
            "examples": [
              44662
            ]
          },
          {
            "$id": "jobId",
            "type": "string",
            "examples": [
              "123safaf"
            ]
          },
          {
            "$id": "serviceNowSysId",
            "type": "string",
            "examples": [
              "adbafd23e34"
            ]
          },
          {
            "$id": "iapURL",
            "type": "string",
            "examples": [
              "https://iap_01:3443"
            ]
          },
          {
            "$id": "serviceNowURL",
            "type": "string",
            "examples": [
              "https://servicenow_instance.com"
            ]
          }
        ],
        "outgoing": [
          {
            "$id": "type",
            "type": "string",
            "examples": [
              "router"
            ]
          },
          {
            "$id": "name",
            "type": "string",
            "examples": [
              "test-device"
            ]
          },
          {
            "$id": "description",
            "type": "string",
            "examples": [
              "my device"
            ]
          },
          {
            "$id": "planId",
            "type": "integer",
            "examples": [
              44662
            ]
          },
          {
            "$id": "sampleRate",
            "type": "integer",
            "examples": [
              1
            ]
          },
          {
            "$id": "sendingIPs",
            "type": "array",
            "items": {
              "type": "string",
              "examples": [
                "192.168.178.1"
              ],
              "format": "ipv4"
            }
          },
          {
            "$id": "snmpIP",
            "type": "string",
            "examples": [
              "192.168.178.1"
            ],
            "format": "ipv4"
          },
          {
            "$id": "snmpCommunity",
            "type": "string",
            "examples": [
              "kentikSNMP"
            ]
          },
          {
            "$id": "snmpConfUsername",
            "type": "string",
            "examples": [
              "kentik"
            ]
          },
          {
            "$id": "snmpConfAuthenticationProtocol",
            "type": "string",
            "examples": [
              "SHA"
            ]
          },
          {
            "$id": "snmpConfAuthenticationPassphrase",
            "type": "string",
            "examples": [
              "Pass"
            ]
          },
          {
            "$id": "snmpPrivacyProtocol",
            "type": "string",
            "examples": [
              "AES"
            ]
          },
          {
            "$id": "snmpPrivacyPassphrase",
            "type": "string",
            "examples": [
              "AESPassword"
            ]
          },
          {
            "$id": "bgpType",
            "type": "string",
            "examples": [
              "device"
            ]
          },
          {
            "$id": "bgpNeighborIP",
            "type": "string",
            "examples": [
              "209.1.1.1"
            ],
            "format": "ipv4"
          },
          {
            "$id": "bgpNeighborIP6",
            "type": "string",
            "examples": [
              "ff44::ffff"
            ],
            "format": "ipv6"
          },
          {
            "$id": "bgpNeighborASN",
            "type": "string",
            "examples": [
              "1"
            ]
          },
          {
            "$id": "bgpNeighborPassword",
            "type": "string",
            "examples": [
              "pass"
            ]
          },
          {
            "$id": "siteName",
            "type": "string",
            "examples": [
              "mySite"
            ]
          },
          {
            "$id": "teamsMessageStart",
            "type": "string"
          },
          {
            "$id": "teamsMessageEnd",
            "type": "string"
          }
        ],
        "steps": [
          {
            "id": 13,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "planId",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "planId",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 2,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "netbox",
              "ptr": "/response/results"
            },
            "to": {
              "location": "method",
              "name": 1,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              "router"
            ],
            "view": {
              "row": 1,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 45,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              null
            ],
            "view": {
              "row": 7,
              "col": 6
            },
            "context": "#"
          },
          {
            "id": 52,
            "type": "declaration",
            "library": "String",
            "method": "new String",
            "args": [
              "none"
            ],
            "view": {
              "row": 6,
              "col": 6
            },
            "context": "#"
          },
          {
            "id": 66,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "jobId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 63,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 67,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "serviceNowSysId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 63,
              "ptr": "/args/4/value"
            },
            "context": "#"
          },
          {
            "id": 74,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "jobId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 71,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 75,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "serviceNowSysId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 71,
              "ptr": "/args/4/value"
            },
            "context": "#"
          },
          {
            "id": 1,
            "type": "method",
            "library": "Array",
            "method": "getIndex",
            "args": [
              null,
              0
            ],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 3,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 9,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 8,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 39,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 38,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 3,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "name"
            ],
            "view": {
              "row": 1,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 8,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "config_context"
            ],
            "view": {
              "row": 2,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 38,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "site"
            ],
            "view": {
              "row": 1,
              "col": 4
            },
            "context": "#"
          },
          {
            "id": 11,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 8,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 10,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 16,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 8,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 15,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 19,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 8,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 18,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 22,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 8,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 21,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 41,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 38,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 40,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 55,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 8,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 54,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 65,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 3,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 63,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 76,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 3,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 72,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 10,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "description"
            ],
            "view": {
              "row": 2,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 15,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "sampleRate"
            ],
            "view": {
              "row": 3,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 18,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "snmpCommunity"
            ],
            "view": {
              "row": 4,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 21,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "snmpV3Conf"
            ],
            "view": {
              "row": 4,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 40,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "name"
            ],
            "view": {
              "row": 2,
              "col": 4
            },
            "context": "#"
          },
          {
            "id": 54,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "ipAddress"
            ],
            "view": {
              "row": 1,
              "col": 5
            },
            "context": "#"
          },
          {
            "id": 72,
            "type": "method",
            "library": "String",
            "method": "toLowerCase",
            "args": [
              null
            ],
            "view": {
              "row": 7,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 24,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 21,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 23,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 27,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 21,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 26,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 29,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 21,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 28,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 33,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 21,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 32,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 36,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 21,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 35,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 56,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 54,
              "ptr": "/return"
            },
            "to": {
              "location": "declaration",
              "name": 43,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 73,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 72,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 71,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 23,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "userName"
            ],
            "view": {
              "row": 3,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 26,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "authenticationProtocol"
            ],
            "view": {
              "row": 4,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 28,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "authenticationPassphrase"
            ],
            "view": {
              "row": 5,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 32,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "privacyProtocol"
            ],
            "view": {
              "row": 5,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 35,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "privacyPassphrase"
            ],
            "view": {
              "row": 5,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 43,
            "type": "declaration",
            "library": "Array",
            "method": "new Array",
            "args": [
              null
            ],
            "view": {
              "row": 1,
              "col": 6
            },
            "context": "#",
            "polymorphIndex": 0
          },
          {
            "id": 63,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "Device Onboarding has begun for device ${deviceName}.\n<br />\n<ul>\n  <li><a href=\"${iapURL}/operations-manager/#/jobs/${itentialJob}\">Itential Job</a></li>\n  <li><a href=\"${serviceNowURL}/nav_to.do?uri=change_request.do?sys_id=${serviceNowSysId}\">ServiceNow Change Request</a></li>\n</ul>",
            "args": [
              null,
              null,
              null,
              null,
              null
            ],
            "view": {
              "row": 6,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 71,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "Device Onboarding has completed for device ${deviceName}. Traffic flow is being captured and can be seen in Kentik.\n<br />\n<ul>\n  <li><a href=\"${iapURL}/operations-manager/#/jobs/${itentialJob}\">Itential Job</a></li>\n  <li><a href=\"${serviceNowURL}/nav_to.do?uri=change_request.do?sys_id=${serviceNowSysId}\">ServiceNow Change Request</a></li>\n  <li><a href=\"https://portal.kentik.com/v4/core/quick-views/devices/${deviceName}/traffic\">Kentik</a></li>\n</ul>",
            "args": [
              null,
              null,
              null,
              null,
              null
            ],
            "view": {
              "row": 7,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 7,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 6,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "type",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 48,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "bgpNeighborIP",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 49,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "bgpNeighborIP6",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 50,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "bgpNeighborASN",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 51,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "bgpNeighborPassword",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 53,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 52,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "bgpType",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 57,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "snmpConfUsername",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 58,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "snmpConfAuthenticationProtocol",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 59,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "snmpConfAuthenticationPassphrase",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 60,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "snmpPrivacyPassphrase",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 61,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 45,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "snmpPrivacyProtocol",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 3,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "name",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 12,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 10,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "description",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 17,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 15,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "sampleRate",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 20,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 18,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "snmpCommunity",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 42,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 40,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "siteName",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 62,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 54,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "snmpIP",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 44,
            "type": "assign",
            "from": {
              "location": "declaration",
              "name": 43,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "sendingIPs",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 77,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 63,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "teamsMessageStart",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 78,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 71,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "teamsMessageEnd",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 79,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "iapURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 71,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 80,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "serviceNowURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 71,
              "ptr": "/args/3/value"
            },
            "context": "#"
          },
          {
            "id": 81,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "iapURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 63,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 82,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "serviceNowURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 63,
              "ptr": "/args/3/value"
            },
            "context": "#"
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 6,
          "row": 8
        },
        "created": "2023-10-31T21:09:01.984Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.984Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "650b63ef64654800d3248063",
        "name": "Device ID to Netbox Asset Tag - Kentik - Example",
        "description": "",
        "incoming": [
          {
            "$id": "netboxDevice",
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "examples": [
                  3
                ]
              }
            },
            "required": []
          },
          {
            "$id": "kentikDevice",
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "examples": [
                  "167024"
                ]
              }
            },
            "required": []
          }
        ],
        "outgoing": [
          {
            "$id": "netboxId",
            "type": "integer",
            "examples": [
              3
            ]
          },
          {
            "$id": "netboxDevice",
            "type": "object",
            "properties": {
              "asset_tag": {
                "type": "string",
                "examples": [
                  "123"
                ]
              }
            },
            "required": []
          }
        ],
        "steps": [
          {
            "id": 5,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "netboxDevice",
              "ptr": "/id"
            },
            "to": {
              "location": "outgoing",
              "name": "netboxId",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "kentikDevice",
              "ptr": "/id"
            },
            "to": {
              "location": "outgoing",
              "name": "netboxDevice",
              "ptr": "/asset_tag"
            },
            "context": "#"
          }
        ],
        "functions": [],
        "comments": [],
        "view": {
          "col": 1,
          "row": 5
        },
        "created": "2023-10-31T21:09:01.986Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-10-31T21:09:01.986Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "649dd079d8cf7a00af456027",
        "name": "AWS Blocked Traffic Event",
        "description": "",
        "incoming": [
          {
            "$id": "iapURL",
            "type": "string",
            "examples": [
              "https://iap_1:3443"
            ]
          },
          {
            "$id": "serviceNowURL",
            "type": "string",
            "examples": [
              "https://servicenow_dev.com"
            ]
          },
          {
            "$id": "dimensions",
            "type": "object",
            "properties": {
              "AS_src": {
                "type": "string",
                "examples": [
                  "198465"
                ]
              },
              "IP_dst": {
                "type": "string",
                "examples": [
                  "10.0.18.252"
                ],
                "format": "ipv4"
              },
              "IP_src": {
                "type": "string",
                "examples": [
                  "45.129.14.30"
                ],
                "format": "ipv4"
              },
              "kt_aws_dst_sg": {
                "type": "string",
                "examples": [
                  "webserver-kentik"
                ]
              }
            },
            "required": []
          },
          {
            "$id": "links",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "Name": {
                  "type": "string",
                  "examples": [
                    "DashboardAlarmURL"
                  ]
                },
                "Value": {
                  "type": "string",
                  "examples": [
                    "https://portal.kentik.com/v4/library/dashboards/18392"
                  ]
                }
              },
              "required": []
            }
          },
          {
            "$id": "jobId",
            "type": "string",
            "examples": [
              "7517dfb1b5fd4af2bac87a02"
            ]
          },
          {
            "$id": "alarmPolicyName",
            "type": "string",
            "examples": [
              "Web Server Traffic Rejections"
            ]
          },
          {
            "$id": "serviceNowChangeSysId",
            "type": "string",
            "examples": [
              "afdafadfA"
            ]
          },
          {
            "$id": "serviceNowIncidentSysId",
            "type": "string",
            "examples": [
              "f298220c87b6611035617558dabb3563"
            ]
          }
        ],
        "outgoing": [
          {
            "$id": "teamsMessageStart",
            "type": "string"
          },
          {
            "$id": "teamsMessageStartSuccess",
            "type": "string"
          },
          {
            "$id": "teamsMessageStartFailure",
            "type": "string"
          },
          {
            "$id": "serviceNowSummary",
            "type": "string",
            "examples": [
              "servicenow summary"
            ]
          },
          {
            "$id": "serviceNowComments",
            "type": "string",
            "examples": [
              "servicenow comments"
            ]
          },
          {
            "$id": "seviceNowChangeComments",
            "type": "string",
            "examples": [
              "servicenow change comments"
            ]
          },
          {
            "$id": "securityGroupFilter",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "Name": {
                  "type": "string",
                  "examples": [
                    "group-name"
                  ]
                },
                "Value": {
                  "type": "string",
                  "examples": [
                    "webserver-kentik"
                  ]
                }
              },
              "required": []
            }
          },
          {
            "$id": "sourceIpCIDR",
            "type": "string",
            "examples": [
              "45%2E129%2E14%2E30"
            ],
            "format": "ipv4"
          },
          {
            "$id": "sourceIP",
            "type": "string",
            "examples": [
              "10%2E10%2E10%2E10"
            ],
            "format": "ipv4"
          }
        ],
        "steps": [
          {
            "id": 10,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "alarmPolicyName",
              "ptr": ""
            },
            "to": {
              "location": "outgoing",
              "name": "serviceNowSummary",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 66,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_src"
            },
            "to": {
              "location": "outgoing",
              "name": "sourceIP",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 1,
            "type": "method",
            "library": "Object",
            "method": "setProperty",
            "args": [
              {},
              "Name",
              "group-name"
            ],
            "view": {
              "row": 1,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 4,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/kt_aws_dst_sg"
            },
            "to": {
              "location": "method",
              "name": 2,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 11,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/kt_aws_dst_sg"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 17,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "jobId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/6/value"
            },
            "context": "#"
          },
          {
            "id": 18,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_src"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/9/value"
            },
            "context": "#"
          },
          {
            "id": 19,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_dst"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/10/value"
            },
            "context": "#"
          },
          {
            "id": 20,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/AS_src"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/11/value"
            },
            "context": "#"
          },
          {
            "id": 23,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "links",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 22,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 27,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "links",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 26,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 39,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_src"
            },
            "to": {
              "location": "method",
              "name": 38,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 41,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "serviceNowChangeSysId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/8/value"
            },
            "context": "#"
          },
          {
            "id": 56,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/kt_aws_dst_sg"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 61,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "jobId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/6/value"
            },
            "context": "#"
          },
          {
            "id": 62,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_src"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/7/value"
            },
            "context": "#"
          },
          {
            "id": 63,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_dst"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/8/value"
            },
            "context": "#"
          },
          {
            "id": 64,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/AS_src"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/9/value"
            },
            "context": "#"
          },
          {
            "id": 67,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "serviceNowURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/7/value"
            },
            "context": "#"
          },
          {
            "id": 68,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "iapURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/5/value"
            },
            "context": "#"
          },
          {
            "id": 69,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "iapURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/5/value"
            },
            "context": "#"
          },
          {
            "id": 79,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "serviceNowURL",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 78,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 3,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 1,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 2,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 22,
            "type": "method",
            "library": "Array",
            "method": "getIndex",
            "args": [
              null,
              0
            ],
            "view": {
              "row": 4,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 26,
            "type": "method",
            "library": "Array",
            "method": "getIndex",
            "args": [
              null,
              1
            ],
            "view": {
              "row": 5,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 38,
            "type": "method",
            "library": "String",
            "method": "concat",
            "args": [
              null,
              "/32"
            ],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 25,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 22,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 24,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 29,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 26,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 28,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 31,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 22,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 30,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 33,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 26,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 32,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 2,
            "type": "method",
            "library": "Object",
            "method": "setProperty",
            "args": [
              null,
              "Value",
              null
            ],
            "view": {
              "row": 3,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 24,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Value"
            ],
            "view": {
              "row": 4,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 28,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Value"
            ],
            "view": {
              "row": 5,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 30,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Name"
            ],
            "view": {
              "row": 2,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 32,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Name"
            ],
            "view": {
              "row": 1,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 6,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 2,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 5,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 34,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 24,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 35,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 30,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 36,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 32,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/4/value"
            },
            "context": "#"
          },
          {
            "id": 37,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 28,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/3/value"
            },
            "context": "#"
          },
          {
            "id": 57,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 24,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 58,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 30,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 70,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 28,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/3/value"
            },
            "context": "#"
          },
          {
            "id": 71,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 32,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 55,
              "ptr": "/args/4/value"
            },
            "context": "#"
          },
          {
            "id": 5,
            "type": "method",
            "library": "Array",
            "method": "push",
            "args": [
              []
            ],
            "view": {
              "row": 5,
              "col": 5
            },
            "context": "#"
          },
          {
            "id": 55,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "[code]An alert has been captured in Kentik about a blocked Security Group (${securityGroupName}) for the Web Server.\n<br />\n<ul>\n  <li><a href=\"${kentikURL0Value}\">${kentikURLName0}</a></li>\n  <li><a href=\"${kentikURL1Value}\">${kentikURL1Name}</a></li>\n  <li><a href=\"${iapURL}/operations-manager/#/jobs/${itentialJob}\">Itential Job</a></li>\n  <li>IP Source: ${ipSource}</li>\n  <li>IP Destination: ${ipDestination}</li>\n  <li>AS Source: ${asSource}</li>\n</ul>  \n[/code]",
            "args": [
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null
            ],
            "view": {
              "row": 3,
              "col": 4
            },
            "context": "#"
          },
          {
            "id": 9,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "An alert has been captured in Kentik about a blocked Security Group (${securityGroupName}) for the Web Server.\n<br />\n<ul>\n  <li><a href=\"${kentikURL0Value}\">${kentikURLName0}</a></li>\n  <li><a href=\"${kentikURL1Value}\">${kentikURL1Name}</a></li>\n  <li><a href=\"${iapURL}/operations-manager/#/jobs/${itentialJob}\">Itential Job</a></li>\n  <li><a href=\"${serviceNowURL}/nav_to.do?uri=change_request.do?sys_id=${serviceNowSysId}\">ServiceNow Change Request</a></li>\n  <li>IP Source: ${ipSource}</li>\n  <li>IP Destination: ${ipDestination}</li>\n  <li>AS Source: ${asSource}</li>\n</ul>",
            "args": [
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null
            ],
            "view": {
              "row": 1,
              "col": 4
            },
            "context": "#"
          },
          {
            "id": 73,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 9,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 72,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 76,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 9,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 75,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 80,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 9,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 78,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 83,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 9,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 82,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 72,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "${renderedTeamsMessage}<br/>An automated attempt to remediate the problem will now occur.",
            "args": [
              null
            ],
            "view": {
              "row": 1,
              "col": 5
            },
            "context": "#"
          },
          {
            "id": 75,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "${renderedTeamsMessage}<br/>Remediation Successful! Security Group has been altered to authorize ingress traffic.",
            "args": [
              null
            ],
            "view": {
              "row": 2,
              "col": 5
            },
            "context": "#"
          },
          {
            "id": 82,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "[code]${renderedTeamsMessage}[/code]",
            "args": [
              null
            ],
            "view": {
              "row": 4,
              "col": 5
            },
            "context": "#"
          },
          {
            "id": 78,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "${renderedTeamsMessage}<br/>Remediation Failed! Security Group already includes source IP.<br/>ServiceNow Incident Opened: <a href=${serviceNowURL}/now/nav/ui/classic/params/target/incident.do%3Fsys_id%3D>ServiceNow Incident</a>",
            "args": [
              null,
              null
            ],
            "view": {
              "row": 3,
              "col": 5
            },
            "context": "#"
          },
          {
            "id": 40,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 38,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "sourceIpCIDR",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 7,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 5,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "securityGroupFilter",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 65,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 55,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "seviceNowChangeComments",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 74,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 72,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "teamsMessageStart",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 77,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 75,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "teamsMessageStartSuccess",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 84,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 82,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "serviceNowComments",
              "ptr": ""
            },
            "context": "#"
          },
          {
            "id": 81,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 78,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "teamsMessageStartFailure",
              "ptr": ""
            },
            "context": "#"
          }
        ],
        "functions": [
          {
            "incoming": [
              {
                "type": "object",
                "properties": {
                  "Name": {
                    "type": "string",
                    "examples": [
                      "DashboardAlarmURL"
                    ]
                  },
                  "Label": {
                    "type": "string",
                    "examples": [
                      "Open in Dashboard"
                    ]
                  },
                  "Value": {
                    "type": "string",
                    "examples": [
                      "https://portal%2Ekentik%2Ecom/v4/library/dashboards/18392"
                    ]
                  }
                },
                "required": [],
                "$id": "element"
              },
              {
                "title": "index",
                "type": "number",
                "optional": true,
                "$id": "index"
              },
              {
                "$id": "array",
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "Name": {
                      "type": "string",
                      "examples": [
                        "DashboardAlarmURL"
                      ]
                    },
                    "Label": {
                      "type": "string",
                      "examples": [
                        "Open in Dashboard"
                      ]
                    },
                    "Value": {
                      "type": "string",
                      "examples": [
                        "https://portal%2Ekentik%2Ecom/v4/library/dashboards/18392"
                      ]
                    }
                  },
                  "required": []
                },
                "optional": true
              },
              {
                "$id": "thisArg",
                "type": "object",
                "properties": {},
                "isContext": true,
                "isThis": true,
                "isIndexed": true
              }
            ],
            "outgoing": [
              {
                "title": "return",
                "type": "boolean",
                "$id": "return"
              }
            ],
            "steps": [
              {
                "id": 2,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "element",
                  "ptr": "/Name"
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/0/value"
                },
                "context": "#"
              },
              {
                "id": 3,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "thisArg",
                  "ptr": ""
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/1/value"
                },
                "context": "#"
              },
              {
                "id": 1,
                "type": "method",
                "library": "Equality",
                "method": "equality",
                "args": [
                  null,
                  null
                ],
                "view": {
                  "row": 2,
                  "col": 1
                },
                "context": "#"
              },
              {
                "id": 4,
                "type": "assign",
                "from": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/return"
                },
                "to": {
                  "location": "outgoing",
                  "name": "return",
                  "ptr": ""
                },
                "context": "#"
              }
            ],
            "functions": [],
            "name": "ƒ_query_1",
            "view": {
              "col": 2,
              "row": 4
            },
            "id": "ƒ_query_1",
            "comments": []
          }
        ],
        "comments": [],
        "view": {
          "col": 5,
          "row": 9
        },
        "created": "2023-10-31T21:09:01.990Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-11-06T18:34:36.212Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    },
    {
      "type": "transformation",
      "data": {
        "_id": "649e1ee2d8cf7a00af456028",
        "name": "AWS Blocked Traffic Event - Allowed List Error",
        "description": "",
        "incoming": [
          {
            "$id": "links",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "Name": {
                  "type": "string",
                  "examples": [
                    "DashboardAlarmURL"
                  ]
                },
                "Value": {
                  "type": "string",
                  "examples": [
                    "https://portal.kentik.com/v4/library/dashboards/18392"
                  ]
                }
              },
              "required": []
            }
          },
          {
            "$id": "dimensions",
            "type": "object",
            "properties": {
              "AS_src": {
                "type": "string",
                "examples": [
                  "198465"
                ]
              },
              "IP_dst": {
                "type": "string",
                "examples": [
                  "13.13.13.13"
                ],
                "format": "ipv4"
              },
              "IP_src": {
                "type": "string",
                "examples": [
                  "45.129.14.30"
                ],
                "format": "ipv4"
              },
              "kt_aws_dst_sg": {
                "type": "string",
                "examples": [
                  "webserver-kentik"
                ]
              }
            },
            "required": []
          },
          {
            "$id": "jobId",
            "type": "string",
            "examples": [
              "7517dfb1b5fd4af2bac87a02"
            ]
          },
          {
            "$id": "allowedIPList",
            "type": "array",
            "items": {
              "type": "string",
              "examples": [
                "10.10.10.10"
              ],
              "format": "ipv4"
            }
          },
          {
            "$id": "iapUrl",
            "type": "string",
            "examples": [
              "https://iap_01:3443"
            ]
          }
        ],
        "outgoing": [
          {
            "$id": "teamsDeniedMessage",
            "type": "string"
          }
        ],
        "steps": [
          {
            "id": 11,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/kt_aws_dst_sg"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 17,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "jobId",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/6/value"
            },
            "context": "#"
          },
          {
            "id": 19,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_dst"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/8/value"
            },
            "context": "#"
          },
          {
            "id": 20,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/AS_src"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/9/value"
            },
            "context": "#"
          },
          {
            "id": 23,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "links",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 22,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 27,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "links",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 26,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 38,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "dimensions",
              "ptr": "/IP_src"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/7/value"
            },
            "context": "#"
          },
          {
            "id": 45,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "allowedIPList",
              "ptr": ""
            },
            "to": {
              "location": "method",
              "name": 44,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 49,
            "type": "assign",
            "from": {
              "location": "incoming",
              "name": "iapUrl",
              "ptr": ""
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/5/value"
            },
            "context": "#"
          },
          {
            "id": 22,
            "type": "method",
            "library": "Array",
            "method": "getIndex",
            "args": [
              null,
              0
            ],
            "view": {
              "row": 1,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 26,
            "type": "method",
            "library": "Array",
            "method": "getIndex",
            "args": [
              null,
              1
            ],
            "view": {
              "row": 2,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 44,
            "type": "method",
            "library": "Array",
            "method": "map",
            "args": [
              null,
              "formatAllowedIPs"
            ],
            "view": {
              "row": 4,
              "col": 1
            },
            "context": "#"
          },
          {
            "id": 25,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 22,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 24,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 29,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 26,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 28,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 31,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 22,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 30,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 33,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 26,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 32,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 47,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 44,
              "ptr": "/return"
            },
            "to": {
              "location": "method",
              "name": 46,
              "ptr": "/args/0/value"
            },
            "context": "#"
          },
          {
            "id": 24,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Name"
            ],
            "view": {
              "row": 1,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 28,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Value"
            ],
            "view": {
              "row": 2,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 30,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Value"
            ],
            "view": {
              "row": 1,
              "col": 3
            },
            "context": "#"
          },
          {
            "id": 32,
            "type": "method",
            "library": "Object",
            "method": "getProperty",
            "args": [
              null,
              "Name"
            ],
            "view": {
              "row": 2,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 46,
            "type": "method",
            "library": "Array",
            "method": "join",
            "args": [
              null,
              " "
            ],
            "view": {
              "row": 4,
              "col": 2
            },
            "context": "#"
          },
          {
            "id": 36,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 32,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/4/value"
            },
            "context": "#"
          },
          {
            "id": 37,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 28,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/3/value"
            },
            "context": "#"
          },
          {
            "id": 48,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 46,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/10/value"
            },
            "context": "#"
          },
          {
            "id": 50,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 24,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/2/value"
            },
            "context": "#"
          },
          {
            "id": 51,
            "type": "assign",
            "from": {
              "location": "method",
              "name": 30,
              "ptr": "/return"
            },
            "to": {
              "location": "template",
              "name": 9,
              "ptr": "/args/1/value"
            },
            "context": "#"
          },
          {
            "id": 9,
            "type": "template",
            "library": "String",
            "method": "templateLiteral",
            "template": "An alert has been captured in Kentik about a blocked Security Group (${securityGroupName}) for the Web Server.\n<br />\n<ul>\n  <li><a href=\"${kentikURL0Value}\">${kentikURLName0}</a></li>\n  <li><a href=\"${kentikURL1Value}\">${kentikURL1Name}</a></li>\n  <li><a href=\"${iapUrl}/operations-manager/#/jobs/${itentialJob}\">Itential Job</a></li>\n  <li>IP Source: ${ipSource}</li>\n  <li>IP Destination: ${ipDestination}</li>\n  <li>AS Source: ${asSource}</li>\n</ul>  \n\nHowever, the auto remediation request was ignored since the source IP is not part of the allowed IP List:\n<br/>\n<ul>\n${allowedIPList}\n</ul>",
            "args": [
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null
            ],
            "view": {
              "row": 3,
              "col": 4
            },
            "context": "#"
          },
          {
            "id": 40,
            "type": "assign",
            "from": {
              "location": "template",
              "name": 9,
              "ptr": "/return"
            },
            "to": {
              "location": "outgoing",
              "name": "teamsDeniedMessage",
              "ptr": ""
            },
            "context": "#"
          }
        ],
        "functions": [
          {
            "incoming": [
              {
                "type": "object",
                "properties": {
                  "Name": {
                    "type": "string",
                    "examples": [
                      "DashboardAlarmURL"
                    ]
                  },
                  "Label": {
                    "type": "string",
                    "examples": [
                      "Open in Dashboard"
                    ]
                  },
                  "Value": {
                    "type": "string",
                    "examples": [
                      "https://portal%2Ekentik%2Ecom/v4/library/dashboards/18392"
                    ]
                  }
                },
                "required": [],
                "$id": "element"
              },
              {
                "title": "index",
                "type": "number",
                "optional": true,
                "$id": "index"
              },
              {
                "$id": "array",
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "Name": {
                      "type": "string",
                      "examples": [
                        "DashboardAlarmURL"
                      ]
                    },
                    "Label": {
                      "type": "string",
                      "examples": [
                        "Open in Dashboard"
                      ]
                    },
                    "Value": {
                      "type": "string",
                      "examples": [
                        "https://portal%2Ekentik%2Ecom/v4/library/dashboards/18392"
                      ]
                    }
                  },
                  "required": []
                },
                "optional": true
              },
              {
                "$id": "thisArg",
                "type": "object",
                "properties": {},
                "isContext": true,
                "isThis": true,
                "isIndexed": true
              }
            ],
            "outgoing": [
              {
                "title": "return",
                "type": "boolean",
                "$id": "return"
              }
            ],
            "steps": [
              {
                "id": 2,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "element",
                  "ptr": "/Name"
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/0/value"
                },
                "context": "#"
              },
              {
                "id": 3,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "thisArg",
                  "ptr": ""
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/1/value"
                },
                "context": "#"
              },
              {
                "id": 1,
                "type": "method",
                "library": "Equality",
                "method": "equality",
                "args": [
                  null,
                  null
                ],
                "view": {
                  "row": 2,
                  "col": 1
                },
                "context": "#"
              },
              {
                "id": 4,
                "type": "assign",
                "from": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/return"
                },
                "to": {
                  "location": "outgoing",
                  "name": "return",
                  "ptr": ""
                },
                "context": "#"
              }
            ],
            "functions": [],
            "name": "ƒ_query_1",
            "view": {
              "col": 2,
              "row": 4
            },
            "id": "ƒ_query_1",
            "comments": []
          },
          {
            "incoming": [
              {
                "type": "string",
                "examples": [
                  "10%2E10%2E10%2E10"
                ],
                "format": "ipv4",
                "$id": "currentValue"
              },
              {
                "title": "index",
                "type": "number",
                "optional": true,
                "$id": "index"
              },
              {
                "$id": "array",
                "type": "array",
                "items": {
                  "type": "string",
                  "examples": [
                    "10%2E10%2E10%2E10"
                  ],
                  "format": "ipv4"
                },
                "optional": true
              },
              {
                "$id": "thisArg",
                "type": "object",
                "properties": {},
                "isContext": true,
                "isThis": true,
                "isIndexed": true
              }
            ],
            "outgoing": [
              {
                "title": "newValue",
                "type": [
                  "array",
                  "boolean",
                  "number",
                  "integer",
                  "string",
                  "object",
                  "null"
                ],
                "editable": true,
                "$id": "newValue"
              }
            ],
            "steps": [
              {
                "id": 2,
                "type": "assign",
                "from": {
                  "location": "incoming",
                  "name": "currentValue",
                  "ptr": ""
                },
                "to": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/args/1/value"
                },
                "context": "#"
              },
              {
                "id": 1,
                "type": "method",
                "library": "String",
                "method": "concat",
                "args": [
                  "<li>",
                  null,
                  "</li>"
                ],
                "view": {
                  "row": 2,
                  "col": 1
                },
                "context": "#"
              },
              {
                "id": 3,
                "type": "assign",
                "from": {
                  "location": "method",
                  "name": 1,
                  "ptr": "/return"
                },
                "to": {
                  "location": "outgoing",
                  "name": "newValue",
                  "ptr": ""
                },
                "context": "#"
              }
            ],
            "functions": [],
            "name": "formatAllowedIPs",
            "view": {
              "col": 2,
              "row": 3
            },
            "id": "formatAllowedIPs",
            "comments": []
          }
        ],
        "comments": [],
        "view": {
          "col": 4,
          "row": 9
        },
        "created": "2023-10-31T21:09:01.988Z",
        "createdBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "lastUpdated": "2023-11-02T15:31:36.276Z",
        "lastUpdatedBy": {
          "_id": "64c178c76dba2ac92808b07e",
          "provenance": "CloudAAA",
          "username": "chris.calloway@itential.com"
        },
        "version": "4.1.2-2023.1.10",
        "tags": []
      }
    }
  ],
  "readme": "# Kentik - REST - Example\n\n## Overview\n\nProject for example workflows involving Kentik, NetBox, ServiceNow, AWS, MS Teams, and IAG.\n\n\n<a href='https://gitlab.com/itentialopensource/pre-built-automations/staging/kentik-rest-example/-/blob/master/documentation/AWS Blocked Traffic - Kentik - Example.md' target='_blank'>AWS Blocked Traffic - Kentik - Example</a>\n\n<a href='https://gitlab.com/itentialopensource/pre-built-automations/staging/kentik-rest-example/-/blob/master/documentation/AWS Blocked Traffic - Reset - Kentik - Example.md' target='_blank'>AWS Blocked Traffic - Reset - Kentik - Example</a>\n\n<a href='https://gitlab.com/itentialopensource/pre-built-automations/staging/kentik-rest-example/-/blob/master/documentation/Device Onboarding - Kentik - Example.md' target='_blank'>Device Onboarding - Kentik - Example</a>\n\n<a href='https://gitlab.com/itentialopensource/pre-built-automations/staging/kentik-rest-example/-/blob/master/documentation/Device Onboarding - Reset - Kentik - Example.md' target='_blank'>Device Onboarding - Reset - Kentik - Example</a>\n\n\n\n## External Dependencies\n\n<table>\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>OS Version</th>\n      <th>API Version</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>Itential Automation Gateway</td>\n      <td></td>\n      <td></td>\n    </tr>    <tr>\n      <td>Kentik</td>\n      <td></td>\n      <td></td>\n    </tr>    <tr>\n      <td>AWS</td>\n      <td></td>\n      <td></td>\n    </tr>    <tr>\n      <td>MS Teams</td>\n      <td></td>\n      <td></td>\n    </tr>    <tr>\n      <td>NetBox</td>\n      <td></td>\n      <td></td>\n    </tr>    <tr>\n      <td>ServiceNow</td>\n      <td></td>\n      <td></td>\n    </tr>\n  </tbody>\n</table>\n\n## Adapters\n\n<table>\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Version</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>adapter-kentik_v5</td>\n      <td>^0.1.1</td>\n    </tr>    <tr>\n      <td>adapter-ms_teams</td>\n      <td>^0.13.0</td>\n    </tr>    <tr>\n      <td>adapter-netbox_v33</td>\n      <td>^2.0.0</td>\n    </tr>    <tr>\n      <td>adapter-automation_gateway</td>\n      <td>^4.29.0-2023.1.12</td>\n    </tr>    <tr>\n      <td>adapter-aws_ec2</td>\n      <td>^0.6.9</td>\n    </tr>    <tr>\n      <td>adapter-service_now</td>\n      <td>^2.6.3</td>\n    </tr>\n  </tbody>\n</table>"
}